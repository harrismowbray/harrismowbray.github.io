<html>
    <!--
        TODO
        -Five Card Pai Gow
        -Blackjack demo
        -blackjack dealing simulation
        -Knockout 52


        GAMELIST

        Blackjack:
        -Blackjack
        -Spanish 21
        -Free Bet Blackjack
        -Blackjack Switch
        -Big Bet Blackjack
        -Double 4 More Blackjack
        -Down Under Blackjack
        -Zappit

        Baccarat:
        -Mini-Baccarat
        -Nepal Baccarat
        -EZ Baccarat
        -BBQ Baccarat

        Poker:
        Double Draw Poker
        Jackpot Hold'Em
        Ultimate Texas Hold'Em
        Texas Hold'Em Bonus
        Heads Up Hold'Em
        Texas Hold'Em Pocket Aces?
        Flop Poker
        Three Card Poker
        3 Shot Poker
        Four Card Poker
        Crazy 4 Poker
        Dakota Duel Draw
        Let it Ride
        High Card Flush
        Caribbean Stud
        DJ Wild
        Criss Cross Poker

        Dice:
        Sic Bo
        Craps
        Crapless Craps

        Wheel:
        Roulette
        Boule
        Big Six

        Pai Gow:
        Five Card Pai Gow
        Pai Gow Tiles
        Pai Gow Poker
        Face Up Pai Gow Poker
        Asian Poker

        Other:
        -Casino War
        -Knockout 52

    -->
    <head>
        <meta name="description" content="Educational Casino Website">
        <title>Harris' Casino</title>
        <style>
            body{
                background-image: url("Felt.jpg");
                background-size: cover;
            }
            .putchipshere{
                background-color: #00000033;
               /* background-color: #146b36;*/
                border: orange 3px solid;
                color: orange;
                height: 100px;
                width: 100px;
                border-radius: 100%;
                font-size: 15px;
                margin-left: 12px;
                cursor: pointer;
                margin-right: 12px;
            }
            .putchipshere:hover{
                font-weight: 700;
            }
            #ante, #antebonus_table, #tie, #tie_table, #play2, #play, #play1, #baccaratdiv{
                border: orange 3px solid;
                color: orange;
            }
            #sixcardbonus, #sixcardbonus_table, #player, #player_table, #pocketbonus_table{
                border: fuchsia 3px solid;
                color: fuchsia;
            }
            #pairplus, #pairplus_table, #banker, #banker_table, #big8, #big8_table, #miamiclubs_table, #miamiclubs, #queensup, #queensup_table, #acesup, #acesup_table, #trips, #trips_table{
                border: cyan 3px solid;
                color: cyan;
            }
            #anybbq, #smallplayerbbq, #bigplayerbbq, #smallbankerbbq, #bigbankerbbq, #bbqtable, #progressivejackpot, #progressivejackpot_table{
                border: orangered 3px solid;
                color: orangered;
            }
            #baccaratdiv{
                padding: 5px;
                font-family: Verdana;
                background-color: #00000033;
            }
            .diamondbutton{
                transform: rotate(45deg);
                border-radius: 0px !important;
                width: 85px !important;
                height: 85px !important;
                margin-left: 25px !important;
                margin-right: 25px !important;
            }
            .diamondbutton div{
                transform: rotate(-45deg);
            }
            .gray{
                background-color: #00000033;
                border: #bbb 3px solid !important;
                color: #bbb !important;
                height: 100px;
                width: 100px;
                border-radius: 100%;
                font-size: 14px;
                margin-left: 12px;
                margin-right: 12px;
                cursor: not-allowed;
            }
            .gray:active{
                color: #bbb;
                background-color: transparent !important;
            }
            .putchipshere:active{
                color: black !important;
            }
            #ante:active, #tie:active, #play2:active, #play:active, #play1:active{
                background-color: orange;
            }
            #pairplus:active, #banker:active, #big8:active, #miamiclubs:active, #queensup:active, #acesup:active, #trips:active{
                background-color: cyan;
            }
            #sixcardbonus:active, #player:active{
                background-color: fuchsia;
            }
            #anybbq:active, #smallplayerbbq:active, #bigplayerbbq:active, #smallbankerbbq:active, #bigbankerbbq:active, #progressivejackpot:active{
                background-color: orangered;
            }
            #gametitle{
                width: 70%;
                margin-left: 15%;
                margin-right: 15%;
                text-align: center;
                font-family: Verdana;
                font-size: 36px;
                border: orange 0px solid;
                outline: 0px;
                color: orange;
                background-color: transparent;
            }
            #progressspan{
                font-family: Verdana;
                font-size: 18px;
                color: orangered;
                background-color: #00000033;
            }
            #progress{
                margin-top: 0px;
            }
            select{
                color: black;
                background-color: #146b36;
                border: white 1px solid;
                outline: none;
                cursor: pointer;
            }
            #buttonp, #chipp{
                text-align: center;
                font-family: Verdana;
                font-size: 48px;
                margin-top: 0px;
                margin-bottom: 0px;
            }
            .settings{
                margin-top: 0px;
                text-align: center;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            #playershand1, #dealershand, #playershand, #communityshand{
                width: 100%;
                color: white;
                font-family: Verdana;
                text-align: center;
            }
            .bigwidth{
                width: 100%;
                float: left;
                text-align: center;
                margin-bottom: 15px;

                display: flex;
                justify-content: center;
                align-items: center;
            }
            th{
                font-weight: 400;
            }
            #playershand2, #playershand3, #playershand4{
                font-family: Verdana;
                text-align: center;   
            }
            button{
                font-size: 22px;
                border: none;
                border-radius: 20px;
                color: black;
            }
            #currencymark1{
                color: white;
            }
            #left{
                display: none;
                width: 25%;
                float: left;
            }
            #right{
                display: none;
                width: 75%;
                float: left;
                text-align: center;
                font-size: 100px;
                margin: 0px;
            }
            #right p{
                margin: 0px;
            }
            #dealerspeech, .playerspeech{
                font-size: 24px;
                color: white;
                font-family: Verdana;
            }
            .playerspeech{
                text-decoration: underline;
                text-decoration-style: dashed;
            }
            .chip{
                height: 60px;
                width: 60px;
                border-radius: 100%;
                border: 4px black solid;
                text-align: center;
                font-size: 18px;
                cursor: pointer;
            }
            .chip:hover{
                background-color: gold !important;
                color: black !important;
                font-weight: 700;
            }
            .button{
                height: 70px;
                width: 150px;
                border: 2px white solid;
                text-align: center;
                background-color: transparent;
                color: white;
                font-weight: 700;
                border-radius: 40px;
                cursor: pointer;
            }
            #chip_deal{
                cursor: not-allowed;
            }
            .letsdeal{
                background-color: orange;
                cursor: pointer !important;
            }
            .button:active{
                color: white;
            }
            #chip_loss, #chip_push{
                background-color: #000;
                color: #fff;
                display: none;
            }
            hr{
                border: none;
                background: orange;
                height: 3px;
            }
            #chip_1{
                background-color: #fff;
            }
            #chip_5{
                background-color: #660001;
                color: white;
            }
            #chip_25{
                background-color: greenyellow;
                color: black;
            }
            #chip_100{
                background-color: #222;
                color: white;
            }
            #chip_500{
                background-color: #69008c;
                color: white;
            }
            #setting div{
                float: left;
                margin-right: 4px;
            }
            #setting{
                display: inline-block;
            }
            .center{
                height: 75%;
            }
            table{
                color: orange;
                font-family: Verdana;
                border: 3px solid orange;
                margin-top: 1vh;
                font-size: 12px;
                background-color: #00000033;
            }
            caption{
                background-color: #00000033;
                font-weight: 700;
            }
            #mycash{
                font-family: "Verdana";
                font-size: 28px;
                color: orange;
            }
            #mygains{
                font-family: "Verdana";
                font-size: 18px;
                color: orange;
            }
            .acard{
                color: black;
                background-color: white;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 4px;
            }
            .greenacard{
                color: black;
                background-color: /*#146b36*/ transparent;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 2px;
            }
            .ared{
                color: red;
                background-color: white;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 2px;
            }
            table select{
                font-size: 12px;
                border-width: 0px;
                color: inherit;
                font-family: Verdana;
                font-weight: 400;
                background-color: transparent;
            }
            #menu{
                font-family: Verdana;
            }
            .menubutton{
                color: white;
                font-size: 40px;
                background-color: #146b36;
                border: 5px solid white;
                margin: 5px;
            }
            .menubutton:hover{
                color: #146b36;
                background-color: white;
            }
            .welcomemenu{
                color: orange;
                font-size: 48px;
                margin-left: 10%;
                margin-right: 10%;
                text-align: center;
                margin-bottom: 10px;
            }
            h4{
                color: white;
                font-size: 24px;
            }
            #contacttext{
                color: white;
                font-size: 22px;
                margin-left: 8%;
                margin-right: 8%; 
            }
            #contacttext a{
                color: white;
                font-weight: 700;
            }
            #mode{
                cursor: pointer;
                font-size: 18px;
                text-align: center;
                color: orange;
                font-family: Verdana;
                text-decoration: underline dotted;
            }

        </style>
    </head>
    <body>
        <div id="menu">
            <p class="welcomemenu">Welcome to my online casino simulator!</p>
            <p class="welcomemenu" style="font-size: 160%; margin-top: 0px;">What game would you like to play today?</p>
            <hr>
        <!-- 
            <h4>Blackjack and Variants</h4>
            <button onclick="menuize('blackjack')" class="menubutton">Blackjack</button>
            <button onclick="menuize('blackjack-switch')" class="menubutton">Blackjack Switch</button>
            <button onclick="menuize('blackjack-double')" class="menubutton">Double 4 More Blackjack</button>
            <button onclick="menuize('blackjack-down')" class="menubutton">Down Under Blackjack</button>
            <button onclick="menuize('blackjack-freebet')" class="menubutton">Freebet Blackjack</button>
            <button onclick="menuize('blackjack-zappit')" class="menubutton">Zappit</button>
         -->
        
            <h4>Poker-Based Games</h4>
            <!-- <button onclick="menuize('caribbean')" class="menubutton">Caribbean Stud Poker</button> -->
            <button onclick="menuize('Crazy 4 Poker')" class="menubutton">Crazy 4 Poker</button>
            <!-- <button onclick="menuize('crisscrosspoker')" class="menubutton">Criss Cross Poker</button> -->
            <button onclick="menuize('Dakota Duel Draw')" class="menubutton">Dakota Duel Draw</button>
            <!-- <button onclick="menuize('djwild')" class="menubutton">DJ Wild</button>
            <button onclick="menuize('doubledraw')" class="menubutton">Double Draw Poker</button> -->
            <button onclick="menuize('Four Card Poker')" class="menubutton">Four Card Poker</button>
            <!-- <button onclick="menuize('headsup')" class="menubutton">Heads Up Hold'Em</button>
            <button onclick="menuize('letitride')" class="menubutton">Let It Ride</button>
            <button onclick="menuize('texasbonus')" class="menubutton">Texas Hold'Em Bonus</button> -->
            <button onclick="menuize('Jackpot Hold\'Em')" class="menubutton">Jackpot Hold'Em</button>
            <button onclick="menuize('Mississippi Stud')" class="menubutton">Mississippi Stud</button>
            <button onclick="menuize('Three Card Poker')" class="menubutton">Three Card Poker</button>
            <button onclick="menuize('Ultimate Texas Hold\'Em')" class="menubutton">Ultimate Texas Hold'Em</button>
        <!--   <h4>"Video Poker"-Based Games</h4> --> 
        <!--    <h4>Non-Standard Poker Games</h4> -->
            <h4>Baccarat Variants</h4>
            <button onclick="menuize('BBQ Baccarat')" class="menubutton">BBQ Baccarat</button>
            <button onclick="menuize('EZ Baccarat')" class="menubutton">EZ Baccarat</button>
            <button onclick="menuize('Mini Baccarat')" class="menubutton">Mini-Baccarat</button>
            <button onclick="menuize('Nepal Baccarat')" class="menubutton">Nepal Baccarat</button>
            <!--<h4>Pai Gow Games</h4>
            <button onclick="menuize('Five Card Pai Gow')" class="menubutton">Five Card Pai Gow</button>
            <button onclick="menuize('paigowpoker')" class="menubutton">Pai Gow Poker</button>
            <h4>Dice Games</h4>
            <button onclick="menuize('Crapless Craps')" class="menubutton">Crapless Craps</button>
            <button onclick="menuize('Craps')" class="menubutton">Craps</button>
            <button onclick="menuize('Sic Bo')" class="menubutton">Sic Bo</button>
            <h4>Other Games</h4>
            <button onclick="menuize('war')" class="menubutton">Casino War</button>
            <button onclick="menuize('knockout')" class="menubutton">Knockout 52</button> -->
            <p id="contacttext">The goal of the website is to teach people the rules and strategies of various casino games, as well as to help train casino dealers into learning the correct rules and payouts of various table games. If you have any questions or suggestions please email me at <a style="color: orange" href="mailto:harrismowbray@yahoo.com?subject=Casino%20Website">harrismowbray@yahoo.com</a>.</p>
        </div>
        <div id="left"></div>
        <div id="right">
            <select id="gametitle" onchange="originalchangegame()">
                <option value="BBQ Baccarat">BBQ Baccarat</option>
                <option value="Crazy 4 Poker">Crazy 4 Poker</option>
                <option value="Dakota Duel Draw">Dakota Duel Draw</option>
                <option value="EZ Baccarat">EZ Baccarat</option>
                <option value="Four Card Poker">Four Card Poker</option>
             <!--   <option value="Miami Four Card">Miami Four Card</option> -->
               <option value="Jackpot Hold'Em">Jackpot Hold'Em</option>
                <option value="Mississippi Stud">Mississippi Stud</option>
                <option value="Mini Baccarat">Mini Baccarat</option>
                <option value="Nepal Baccarat">Nepal Baccarat</option>
                <option selected value="Three Card Poker">Three Card Poker</option>
                <option value="Ultimate Texas Hold'Em">Ultimate Texas Hold'Em</option>
            </select>
            <p><span id="mode" onclick="changemode()">Player Mode</span></p>
            <div id="dealershand" class="bigwidth"></div>
            <div id="communityshand" class="bigwidth"></div>
            <div class="bigwidth" id="mybids"></div>
            <div class="bigwidth" id="mybids2"></div>
            <div class="bigwidth" id="playershand"> </div>
            <div class="bigwidth">
                <p id="chipp">
                    <button class="chip" id="chip_loss" onclick="betamount('Loss')">Loss</button>
                    <button class="chip" id="chip_push" onclick="betamount('Push')">Push</button>
                    <button class="chip" id="chip_1" onclick="betamount(1)">$1</button>
                    <button class="chip" id="chip_5" onclick="betamount(5)">$5</button>
                    <button class="chip" id="chip_25" onclick="betamount(25)">$25</button>
                    <button class="chip" id="chip_100" onclick="betamount(100)">$100</button>
                    <button class="chip" id="chip_500" onclick="betamount(500)">$500</button>
                </p>
            </div>
            <div class="bigwidth">
                <p id="buttonp">
                    <button class="button" id="chip_deal" onclick="letsplay()">DEAL</button>
                </p>
            </div>
            <div class="bigwidth" style="margin: 0px">
                <p id="mycash">$<span id="cash">100,000</span></p>
            </div>
            <div class="bigwidth">
                <p id="mygains"></p>
            </div>

        </div>
    </body>
    <script>

        mymode = "Player"

        function nm(umber){
            return Intl.NumberFormat('en-US').format(umber)
        }

        function random(arr){
            return arr[Math.floor(Math.random() * arr.length)]
        }

        function betset(){
            big = random([100, 75, 50, 25])
            medium = random([25, 10, 5])
            multiplic = random([1,2,3])
            
            bets = {
                "Three Card Poker": {"Ante": big, "Play": big, "PairPlus": medium, "Six Card Bonus": medium},
                "Mississippi Stud": {"Ante": 25, "Third Street": big * multiplic, "Fourth Street": big * multiplic, "Fifth Street": big * multiplic},
                "Ultimate Texas Hold'Em": {"Ante": big, "Blind": big, "Play": big * multiplic, "Trips": medium},
                "Jackpot Hold'Em": {"Ante": big, "XTRA Bonus": big, "Play": big * multiplic, "Player Bonus": medium},
                "Crazy 4 Poker": {"Ante": big, "Play": big, "Super Bonus": big, "Queens Up": medium},
                "Four Card Poker": {"Ante": big, "Play": big, "Aces Up": medium},
                "Dakota Duel Draw": {"Play 2": big, "Play 1": big, "Big 8": medium},
                "Miami Four Card": {"Ante": big, "Play": big, "Miami Clubs": medium},
                "Mini Baccarat": {"Banker": big * multiplic, "Player": big, "Tie": medium * multiplic},
                "EZ Baccarat": {"Banker": big * multiplic, "Player": big, "Tie": medium * multiplic},
                "Nepal Baccarat": {"Banker": big * multiplic, "Player": big, "Tie": medium * multiplic},
                "BBQ Baccarat": {"Banker": big * multiplic, "Player": big, "Tie": medium * multiplic, "Any BBQ": medium, "Big Banker BBQ": medium, "Small Banker BBQ": medium, "Big Player BBQ": medium, "Small Player BBQ": medium},
            }[game]
        }

        function changemode(){
            mygains.innerHTML = ""
            if(mode.textContent == "Player Mode"){
                console.log('hmmm')
                chip_loss.style.display = chip_push.style.display = "inline"
                document.body.style.backgroundImage = "url('Purple.jpg')"
                mode.textContent = "Dealer Mode"
                mymode = "Dealer"

                betset()
                letsplay()
                play()
            }
            else{
                money = 100000
                chip_loss.style.display = chip_push.style.display = "none"
                document.body.style.backgroundImage = "url('Felt.jpg')"
                mode.textContent = "Player Mode"
                mymode = "Player"
                startOver()
            }
            changegame()
        }

        function cardFormat(arr){
            newarr = []
            for(x of arr){
                if(x == "Green") newarr.push(`<button class="greenacard"></button>`) 
                else newarr.push(`<button id="${x}" class="${"SC".includes(x[1]) ? `acard` : `ared`}">${x[0] == "T" ? 10 : (x[0] ?? "")}<br>${{C: '♣',D: '♦',H: '♥',S: '♠', "undefined": ""}[x[1]]}</button>`)
            }
            return newarr.join("")
        }

        const now = new Date();
        const secondsSinceMidnight =
            now.getHours() * 3600 +
            now.getMinutes() * 60 +
            now.getSeconds();
            
        myjackpot = 10000 + (secondsSinceMidnight)
        function updateSecondsSinceMidnight() {
            myjackpot += 1
            if(document.getElementById("jackpot") != undefined) jackpot.textContent = "$" + nm(myjackpot)
        }

        // Initial call
        updateSecondsSinceMidnight()
        // Update every second
        setInterval(updateSecondsSinceMidnight, 1000)


        game = ""
        frenchdeck = []
        //frenchdeck = Array.from("🂡🂱🃁🃑🂮🂾🃎🃞🂭🂽🃍🃝🂫🂻🃋🃛🂪🂺🃊🃚🂩🂹🃉🃙🂨🂸🃈🃘🂧🂷🃇🃗🂦🂶🃆🃖🂥🂵🃅🃕🂤🂴🃄🃔🂣🂳🃃🃓🂢🂲🃂🃒")
        for(x = 0; x < 52; x++) frenchdeck.push("AKQJT98765432"[Math.floor(x / 4)] + "SHDC"[x % 4])
        unorder = "23456789TJQKA"
        bets = {}
        pays = {}
        money = 100000
        amount = 0
        sidebets = ["PairPlus", "Six Card Bonus", "Big 8", "Progressive Jackpot", "Queens Up", "Aces Up"].map(x => x.replace(/ /g, "").toLowerCase())

        function betamount(num){
            if(amount != 0) document.getElementById("chip_" + ("" + amount).toLowerCase()).style.borderColor = "black"
            amount = num
            document.getElementById("chip_" + ("" + num).toLowerCase()).style.borderColor = "gold"
        }
        function increase(thebet){
            theid = thebet.replace(/ /g, "").toLowerCase()
            if(mymode == "Player"){
                if(!document.getElementById(theid).classList.value.includes("gray")){
                    if(amount > 0 && !sidebets.includes(thebet)){
                        mygains.innerHTML = ""
                        defaultcards()
                        chip_deal.classList.add("letsdeal")
                    }
                    if(!bets[thebet]){
                        bets[thebet] = 0
                    }

                    theaddition = amount
                    if(thebet.includes("ressive")){
                        if(bets[thebet] == 1) theaddition = 0
                        else theaddition = 1
                    }
                    bets[thebet] += theaddition
                    money -= theaddition

                    if(thebet == "Ante" && game == "Crazy 4 Poker"){
                        money -= theaddition
                        superbonus_cost.textContent = bets[thebet]
                    }
                    else if(game == "Ultimate Texas Hold'Em" && thebet == "Ante"){
                        money -= theaddition
                        bets["Blind"] = bets["Ante"]
                        blind_cost.textContent = bets["Blind"]
                    }
                    else if(game == "Jackpot Hold'Em" && thebet == "Ante"){
                        money -= theaddition
                        bets["XTRA Bonus"] = bets["Ante"]
                        xtrabonus_cost.textContent = bets["XTRA Bonus"]
                    }

                    cash.textContent = nm(money)
                    document.getElementById(theid + "_cost").textContent = nm(bets[thebet])
                }
            }
            else if(mymode == "Dealer"){
                if(amount == "Push" || amount == "Loss"){
                    document.getElementById(theid + "_pay").textContent = pays[thebet] = amount
                }
                else{
                    thetruepayout = isNaN(pays[thebet]) ? amount : (pays[thebet] + amount)
                    pays[thebet] = thetruepayout
                    document.getElementById(theid + "_pay").textContent = "$" + nm(pays[thebet])
                }
            }
        }
        function decrease(thebet){
            theid = thebet.replace(/ /g, "").toLowerCase()
            if(!document.getElementById(theid).classList.value.includes("gray") && mymode == "Player"){
                mygains.innerHTML = ""
                if(!sidebets.includes(thebet)) chip_deal.classList.remove("letsdeal")
                if(bets[thebet] != undefined) money += bets[thebet]
                if(game == "Crazy 4 Poker" && thebet == "Ante"){
                    money += bets["Ante"]
                    bets["Super Bonus"] = 0
                    superbonus_cost.textContent = 0
                }
                else if(game == "Ultimate Texas Hold'Em" && thebet == "Ante"){
                    money += bets["Ante"]
                    bets["Blind"] = 0
                    blind_cost.textContent = 0
                }
                else if(game == "Jackpot Hold'Em" && thebet == "Ante"){
                    money += bets["Ante"]
                    bets["XTRA Blind"] = 0
                    xtrablind_cost.textContent = 0
                }
                bets[thebet] = 0
                document.getElementById(theid + "_cost").textContent = bets[thebet]
                cash.textContent = nm(money)
            }
            else if(mymode == "Dealer"){
                pays[thebet] = 0
                document.getElementById(theid + "_cost").textContent = pays[thebet]
            }
        }
        function defaultcards(){
            if(game == "Three Card Poker") playershand.innerHTML = dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            else if(game == "Mississippi Stud"){
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>` 
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            }
            else if(game == "Ultimate Texas Hold'Em" || game == "Jackpot Hold'Em"){
                dealershand.innerHTML = playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                communityshand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>` 
            }
            else if(game == "Crazy 4 Poker") playershand.innerHTML = dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            else if(game == "Four Card Poker"){
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`   
            }
            else if(game.includes("Baccarat")){
                playershand.innerHTML = ``
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="greenacard"><button class="acard"></button><button class="acard"></button>`
            }
            else if(game == "Dakota Duel Draw"){
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="greenacard"><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            }
            else if(game == "Miami Four Card"){
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`   
            }
        }
        function shuffle(array) {
            for (i = array.length - 1; i > 0; i--) {
                j = Math.floor(Math.random() * (i + 1))
                b = array[i]
                c = array[j]
                array[j] = b
                array[i] = c
            }
            return array
        }
        function action(act){
            prez = evalbaccarat(newdeck.slice(0, 2))
            if(document.getElementById(newdeck[2]) != undefined) prez = evalbaccarat(newdeck.slice(0, 3))
            brez = evalbaccarat(newdeck.slice(3, 5))
            if(document.getElementById(newdeck[5]) != undefined) brez = evalbaccarat(newdeck.slice(3, 6))
            rightaction = "hmmm"
            if(prez[0] > 8 || brez[0] > 8) rightaction = "payout"
            else if(prez[1] == 2 && prez[0] < 6) rightaction = "player"
            else if(brez[1] == 2 && brez[0] < 6) rightaction = "banker"
            else if(prez[1] == 3 && brez[1] == 2){
                if(brez[0] < 3) rightaction = "banker"
                else if(brez[0] == 3 && newdeck[2][0] != 8) rightaction = "banker"
                else if(brez[0] == 4 && "234567".includes(newdeck[2][0])) rightaction = "banker"
                else if(brez[0] == 5 && "4567".includes(newdeck[2][0])) rightaction = "banker"
                else if(brez[0] == 6 && "67".includes(newdeck[2][0])) rightaction = "banker"
                else rightaction = "payout"
            }
            else rightaction = "payout"
            if(act == rightaction){
                mygains.innerHTML = ""
                if(act == "player"){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4]]), 100)
                }
                else if(act == "banker"){
                    if(prez[1] == 3){
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4], newdeck[5]]), 100)
                    }
                    else{
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", newdeck[3], newdeck[4], newdeck[5]]), 100)
                    }
                }
                else if(act == "payout"){
                    PAYOUT()
                    dopayout()
                }   
            }
            else{
                mygains.innerHTML = "Try something else :)"
            }
        }

        function letsplay(){
            newdeck = shuffle(frenchdeck)

            if(game == "Three Card Poker" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("pairplus")
                shadowbutton("sixcardbonus")
                shadowbutton("progressivejackpot")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2]]), 300)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game == "Mississippi Stud" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Bet x1</button> <button class="button letsdeal" onclick="play(2)">Bet x2</button> <button class="button letsdeal" onclick="play(3)">Bet x3</button>`
            }
            else if(game == "Ultimate Texas Hold'Em" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("trips")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                communityshand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="check()">Check</button> <button class="button letsdeal" onclick="play(3)">Bet x3</button>`
            }
            else if(game == "Jackpot Hold'Em" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("playerbonus")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                setTimeout(() => communityshand.innerHTML = cardFormat(["", "", "", "", newdeck[6]]), 300)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="check()">Check</button> <button class="button letsdeal" onclick="play(3)">Bet x3</button> <button class="button letsdeal" onclick="play(4)">Bet x4</button>`
            }
            else if(game == "Crazy 4 Poker" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("superbonus")
                shadowbutton("queensup")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", "", "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "", "", ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "", ""]), 300)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], ""]), 400)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], newdeck[4]]), 500)

                prez = Math.max(...getCombinations(newdeck.slice(0, 5), 4).map(x => evalfour(x)))
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>${prez >= 1004820 ? (` <button class="button letsdeal" onclick="play(3)">Play x3</button>`) : ``}`
            }
            else if(game == "Four Card Poker" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("acesup")
                dealershand.innerHTML = cardFormat(["", "", "", "", "", ""])
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", "", "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "", "", ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "", ""]), 300)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], ""]), 400)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], newdeck[4]]), 500)
                if(mymode == "Player") setTimeout(() => dealershand.innerHTML = cardFormat(["", "", "", "", "", newdeck[10]]), 600)
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Bet x1</button> <button class="button letsdeal" onclick="play(3)">Bet x3</button>`
            }
            else if(game == "Miami Four Card" && (bets["Ante"] != undefined)){
                shadowbutton("ante")
                shadowbutton("miamiclubs")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game == "Dakota Duel Draw" && (bets["Play 2"] != undefined)){
                shadowbutton("play2")
                shadowbutton("big8")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="greenacard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game.includes("Baccarat") && (Object.values(bets).length > 0)){
                shadowbutton("banker")
                shadowbutton("player")
                shadowbutton("tie")
                if(game == "BBQ Baccarat"){
                    shadowbutton("anybbq")
                    shadowbutton("smallplayerbbq")
                    shadowbutton("bigplayerbbq")
                    shadowbutton("smallbankerbbq")
                    shadowbutton("bigbankerbbq")
                }
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], "", "Green", "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", "", ""]), 300)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", newdeck[3], ""]), 500)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green",  newdeck[3], newdeck[4]]), 700)

                if(mymode == "Player"){
                    prez = evalbaccarat(newdeck.slice(0, 2))
                    brez = evalbaccarat(newdeck.slice(3, 5))
                    if("89".includes(prez[0]) || "89".includes(brez[0])){
                        setTimeout(payThePayout, 1000)
                    }
                    else if(prez[0] < 6){
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4]]), 1000)
                        prez = evalbaccarat(newdeck.slice(0, 3))
                        if(
                            (brez[0] <= 2) ||
                            (brez[0] == 3 && newdeck[2][0] != "8") ||
                            (brez[0] == 4 && "234567".includes(newdeck[2][0])) ||
                            (brez[0] == 5 && "4567".includes(newdeck[2][0])) ||
                            (brez[0] == 6 && "67".includes(newdeck[2][0]))
                        ){
                            setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4], newdeck[5]]), 1300)
                            brez = evalbaccarat(newdeck.slice(3, 6))
                        }
                    }
                    else if(brez[0] < 6){
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", newdeck[3], newdeck[4], newdeck[5]]), 1000)
                        brez = evalbaccarat(newdeck.slice(3, 6))
                    }
                }
                if(mymode == "Player") setTimeout(payThePayout, 1400)
                //else alert('bruh')

            }
        }

        function evalbaccarat(arr){
            return [arr.map(x => isNaN(x[0]) ? {T: 10, A: 1, Q: 10, J: 10, K: 10}[x[0]]: +x[0]).reduce((a, c) => a + c, 0) % 10, arr.length]
        }
        

        function check(){
            if(buttonp.innerHTML.includes("x3")){
                buttonp.innerHTML = `<button class="button letsdeal" onclick="check()">Check</button> <button class="button letsdeal" onclick="play(2)">Bet x2</button>`
                setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], "", "", "", ""]), 100)
                setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "", ""]), 200)
                setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "", ""]), 300)
            }
            else if(buttonp.innerHTML.includes("x2")){
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Bet x1</button>`
                setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], ""]), 100)
                setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], newdeck[6]]), 200)
            }
        }

        nofold = false

        function play(multiplier){
            document.querySelectorAll('#buttonp button').forEach(btn => { btn.classList.add('button'); btn.onclick = null; btn.removeAttribute('onclick'); btn.classList.remove('letsdeal')});            
            nofold = multiplier == "fold" ? false : true
            if(game == "Three Card Poker"){
                if(nofold && mymode == "Player"){
                    money -= bets["Ante"]
                    cash.textContent = nm(money)
                    play_cost.textContent = bets["Ante"]
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], newdeck[4], ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], newdeck[4], newdeck[5]]), 300)            
                prez = evalthree(newdeck.slice(0, 3))
                drez = evalthree(newdeck.slice(3, 6))
                srez = evalfivemany(newdeck.slice(0, 6))
            }
            else if(game == "Mississippi Stud"){
                if(nofold && mymode == "Player"){
                    money -= (bets["Ante"] * multiplier)
                    if(bets["Third Street"] == undefined || bets["Third Street"] == 0){
                        bets["Third Street"] = (bets["Ante"] * multiplier)
                        thirdstreet_cost.textContent = bets["Ante"] * multiplier
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], "", ""]), 100)
                    }
                    else if(bets["Fourth Street"] == undefined || bets["Fourth Street"] == 0){
                        bets["Fourth Street"] = (bets["Ante"] * multiplier)
                        fourthstreet_cost.textContent = bets["Ante"] * multiplier
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], ""]), 100)
                    }
                    else{
                        bets["Fifth Street"] = (bets["Ante"] * multiplier)
                        fifthstreet_cost.textContent = (bets["Ante"] * multiplier)
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4]]), 100)
                    }

                    cash.textContent = nm(money)
                }
                else if(!nofold || mymode == "Dealer"){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], "", ""]), 100)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], ""]), 200)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4]]), 300)      
                }
                prez = evalfive(newdeck.slice(0, 5))
            }
            else if(game == "Ultimate Texas Hold'Em"){
                if(nofold && mymode == "Player"){
                    bets["Play"] = bets["Ante"] * multiplier
                    play_cost.innerHTML = bets["Play"]
                    money -= bets["Play"]

                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], "", "", "", ""]), 100)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "", ""]), 200)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "", ""]), 300)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], ""]), 400)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], newdeck[6]]), 500)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], ""]), 600)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], newdeck[8]]), 700)

                    cash.textContent = nm(money)
                }
                else if(mymode == "Dealer"){
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], "", "", "", ""]), 100)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "", ""]), 200)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "", ""]), 300)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], ""]), 400)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], newdeck[6]]), 500)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], ""]), 600)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], newdeck[8]]), 700)

                }
                else if(!nofold){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], ""]), 100)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3]]), 200)
                }
                prez = Math.max(...getCombinations(newdeck.slice(0, 7), 5).map(x => evalfive(x)))
                drez = Math.max(...getCombinations(newdeck.slice(2, 9), 5).map(x => evalfive(x)))
            }
            else if(game == "Jackpot Hold'Em"){
                if(nofold && mymode == "Player"){
                    bets["Play"] = bets["Ante"] * multiplier
                    play_cost.innerHTML = bets["Play"]
                    money -= bets["Play"]

                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], "", "", "", newdeck[6]]), 100)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "", newdeck[6]]), 200)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "", newdeck[6]]), 300)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], newdeck[6]]), 400)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], ""]), 100)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], newdeck[8]]), 200)

                    cash.textContent = nm(money)
                }
                else if(mymode == "Dealer"){
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], "", "", "", newdeck[6]]), 100)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "", newdeck[6]]), 200)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "", newdeck[6]]), 300)
                    setTimeout(() => communityshand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], newdeck[5], newdeck[6]]), 400)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], ""]), 100)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], newdeck[8]]), 200)

                }
                else if(!nofold){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], ""]), 100)
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[7], newdeck[8]]), 200)
                }
                prez = Math.max(...getCombinations(newdeck.slice(0, 7), 5).map(x => evalfive(x)))
                drez = Math.max(...getCombinations(newdeck.slice(2, 9), 5).map(x => evalfive(x)))
            }
            else if(game == "Crazy 4 Poker"){
                if(nofold && mymode == "Player"){
                    bets["Play"] = bets["Ante"] * multiplier
                    money -= bets["Play"]
                    cash.textContent = nm(money)
                    play_cost.textContent = bets["Play"]
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], "", "", "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], "", "", ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], "", ""]), 300)   
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], ""]), 400)            
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], newdeck[9]]), 500)                     
                drez = Math.max(...getCombinations(newdeck.slice(5, 10), 4).map(x => evalfour(x)))
            }
            else if(game == "Four Card Poker"){
                if(nofold && mymode == "Player"){
                    bets["Play"] = bets["Ante"] * multiplier
                    money -= bets["Play"]
                    cash.textContent = nm(money)
                    play_cost.textContent = bets["Play"]
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], "", "", "", "", newdeck[10]]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], "", "", "", newdeck[10]]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], "", "", newdeck[10]]), 300)   
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], "", newdeck[10]]), 400)            
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], newdeck[9], newdeck[10]]), 500)      
                prez = Math.max(...getCombinations(newdeck.slice(0, 5), 4).map(x => evalfour(x)))               
                drez = Math.max(...getCombinations(newdeck.slice(5, 11), 4).map(x => evalfour(x)))
            }
            else if(game == "Miami Four Card"){
                if(nofold && mymode == "Player"){
                    money -= (bets["Ante"] * 2)
                    cash.textContent = nm(money)
                    play_cost.textContent = (bets["Ante"] * 2)
                }


                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3]]), 200)
                prez = Math.max(...getCombinations(newdeck, 3).map(x => evalthree(x)))
                crez = (newdeck[0][1] + newdeck[1][1] + newdeck[2][1] + newdeck[3][1]).split("C").length - 1
            }
            else if(game == "Dakota Duel Draw"){
                if(nofold && mymode == "Player"){
                    money -= bets["Play 2"]
                    cash.textContent = nm(money)
                    bets["Play 1"] =  play1_cost.textContent = play2_cost.textContent = bets["Play 2"]
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], "", "", "Green", newdeck[5], "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "Green", newdeck[5], newdeck[6], ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "Green", newdeck[5], newdeck[6], newdeck[7]]), 300)
                frez = evalfive(newdeck.slice(0, 5))
                erez = evalfivemany(newdeck.slice(0, 8))
                prez = evalthree(newdeck.slice(0, 2))
                srez = evalfive([...newdeck.slice(0, 2), ...newdeck.slice(5, 8)])
            }

            if(game == "Mississippi Stud" && (bets["Fifth Street"] == undefined || bets["Fifth Street"] == 0) && nofold){
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Bet x1</button> <button class="button letsdeal" onclick="play(2)">Bet x2</button> <button class="button letsdeal" onclick="play(3)">Bet x3</button>`
            }
            else if(game.includes("Baccarat") && mymode == "Dealer"){
                //do nothing :)
            }
            else{
                setTimeout(payThePayout, 500)
            }
            
        }



        function payThePayout(){
            money += Object.values(PAYOUT()).reduce((a, b) => a + b, 0)
            cash.textContent = nm(money)
        }

        function PAYOUT(){
            payobj = {}
            gainsarray = []

            if(game == "Three Card Poker"){

                if(nofold){
                    if(drez < 4020){
                        payobj["Ante"] = bets["Ante"] * 2
                        payobj["Play"] = bets["Ante"]
                    }
                    else if(drez == prez){
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Ante"]
                    }
                    else if(drez > prez){
                        payobj["Ante"] = 0
                        payobj["Play"] = 0
                    }
                    else if(drez < prez){
                        payobj["Ante"] = bets["Ante"] * 2
                        payobj["Play"] = bets["Ante"] * 2
                    }
                    gainsarray.push("Ante: " + (payobj["Ante"] > 0  ? ("+$" + nm(payobj["Ante"])) : "Lost"))
                    gainsarray.push("Play: " + (payobj["Play"] > 0  ? ("+$" + nm(payobj["Play"])) : "Lost"))
                }

                achievement = ""

                if(prez >= 50000) achievement = "Straight Flush"
                else if(prez >= 40000) achievement = "Three of a Kind"
                else if(prez >= 30000) achievement = "Straight"

                if(achievement != ""){
                    payobj["Ante"] += (bets["Ante"] * (payouts[game]["Ante Bonus"][antebonus_tables.value][achievement] + 1))
                    gainsarray.push(`Ante Bonus: +$` + nm(bets["Ante"] * (payouts[game]["Ante Bonus"][antebonus_tables.value][achievement] + 1)))
                }


                //pairplus
                if(bets["PairPlus"] != undefined){
                    achievement = ""
                    if(prez >= 50000){
                        achievement = "Straight Flush"
                    }
                    else if(prez >= 40000){
                        achievement = "Three of a Kind"
                    }
                    else if(prez >= 30000){
                        achievement = "Straight"
                    }
                    else if(prez >= 20000){
                        achievement = "Flush"
                    }
                    else if(prez >= 10000){
                        achievement = "Pair"
                    }
                    if(achievement != ""){
                        payobj["PairPlus"] = bets["PairPlus"] * (payouts[game]["PairPlus"][pairplus_tables.value][achievement] + 1)
                        gainsarray.push(`PairPlus: +$` + nm(bets["PairPlus"] * (payouts[game]["PairPlus"][pairplus_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj["PairPlus"] = 0
                        gainsarray.push(`PairPlus: Loss`)
                    }
                }


                if(bets["Six Card Bonus"] != undefined){
                    achievement = ""
                    if(srez >= 90000000) achievement = "Royal Flush"
                    else if(srez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(srez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(srez >= 60000000){
                        achievement = "Full House"
                    }
                    else if(srez >= 50000000){
                        achievement = "Flush"
                    }
                    else if(srez >= 40000000){
                        achievement = "Straight"
                    }
                    else if(srez >= 30000000){
                        achievement = "Three of a Kind"
                    }

                    if(achievement != ""){
                        payobj["Six Card Bonus"] = bets["Six Card Bonus"] * (payouts[game]["Six Card Bonus"][sixcardbonus_tables.value][achievement] + 1)
                        gainsarray.push(`Six Card Bonus: +$` + nm(bets["Six Card Bonus"] * (payouts[game]["Six Card Bonus"][sixcardbonus_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj["Six Card Bonus"] = 0
                        gainsarray.push(`Six Card Bonus: Loss`)
                    }
                }


                //progressive
                if(bets["Progressive Jackpot"] != undefined){
                    achievement = ""
                    if(prez >= 70000){
                        achievement = "Spade Mini Royal"
                    }
                    else if(prez >= 60000){
                        achievement = "Mini Royal"
                    }
                    else if(prez >= 50000){
                        achievement = "Straight Flush"
                    }
                    else if(prez >= 40000 && progressivejackpot_tables.value == 1){
                        achievement = "Three of a Kind"
                    }

                    if(achievement != ""){
                        whatIearn = 0
                        whatIearn = payouts[game]["Progressive Jackpot"][progressivejackpot_tables.value][achievement]
                        if((whatIearn).startsWith("J")){
                            amo = +whatIearn.split("J")[1]
                            whatIearn = myjackpot * (amo / 100)
                            myjackpot -= whatIearn
                        }
                        else if(whatIearn.endsWith("S")){
                            whatIearn = +(whatIearn.slice(0, -1))
                        }
                        if(myjackpot < 5000) myjackpot = 5000
                        payobj["Progressive Jackpot"] = whatIearn
                        gainsarray.push(`Progressive Jackpot: +$` + nm(whatIearn))
                    }
                    else{
                        payobj["Progressive Jackpot"] = 0
                        gainsarray.push(`Progressive Jackpot: Loss`)
                    }
                }

            }
            else if(game == "Crazy 4 Poker"){

                if(nofold){
                    if(drez < 88820){ //king high
                        payobj["Ante"] = (bets["Ante"])
                        payobj["Play"] = (bets["Play"] * 2)
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                    }
                    else if(drez == prez){
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"]
                        gainsarray.push("Ante: +$" + nm(bets["Ante"]))
                        gainsarray.push("Play: +$" + nm(bets["Play"]))
                    }
                    else if(drez > prez){
                        payobj["Ante"] = 0
                        payobj["Play"] = 0
                        gainsarray.push("Ante: Loss")
                        gainsarray.push("Play: Loss")
                    }
                    else if(drez < prez){
                        payobj["Ante"] = (bets["Ante"] * 2)
                        payobj["Play"] = (bets["Play"] * 2)
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                    }
                }

                achievement = ""
                if(prez == 7000012) achievement = "Four Aces"
                else if(prez >= 7000000) achievement = "Four of a Kind"
                else if(prez >= 6000000) achievement = "Straight Flush"
                else if(prez >= 5000000) achievement = "Three of a Kind"
                else if(prez >= 4000000) achievement = "Flush"
                else if(prez >= 3000000) achievement = "Straight"

                if(achievement != ""){
                    payobj["Super Bonus"] = bets["Ante"] * (payouts[game]["Super Bonus"][0][achievement] + 1)
                    gainsarray.push(`Super Bonus: +$` + nm(bets["Ante"] * (payouts[game]["Super Bonus"][0][achievement] + 1)))
                }
                else if(achievement == "" && (drez < 88820 || prez > drez)){
                    payobj["Super Bonus"] = bets["Ante"]
                    gainsarray.push(`Super Bonus: +$` + nm(bets["Ante"]))   
                }
                else{
                    payobj["Super Bonus"] = 0
                    gainsarray.push(`Super Bonus: Loss`)
                }


                if(bets["Queens Up"] != undefined){
                    achievement = ""
                    if(prez >= 7000000) achievement = "Four of a Kind"
                    else if(prez >= 6000000) achievement = "Straight Flush"
                    else if(prez >= 5000000) achievement = "Three of a Kind"
                    else if(prez >= 4000000) achievement = "Flush"
                    else if(prez >= 3000000) achievement = "Straight"
                    else if(prez >= 2000000) achievement = "Two Pair"
                    else if(prez >= 1004020) achievement = "Queens or Better"

                    if(achievement != ""){
                        payobj["Queens Up"] = bets["Queens Up"] * (payouts[game]["Queens Up"][queensup_tables.value][achievement] + 1)
                        gainsarray.push(`Queens Up: +$` + nm(bets["Queens Up"] * (payouts[game]["Queens Up"][queensup_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj["Queens Up"] = 0
                        gainsarray.push(`Queens Up: Loss`)
                    }
                }

            }
            else if(game == "Ultimate Texas Hold'Em"){
                if(nofold){

                    achievement = ""
                    if(prez >= 90000000) achievement = "Royal Flush"
                    else if(prez >= 80000000) achievement = "Straight Flush"
                    else if(prez >= 70000000) achievement = "Four of a Kind"
                    else if(prez >= 60000000) achievement = "Full House"
                    else if(prez >= 50000000) achievement = "Flush"
                    else if(prez >= 40000000) achievement = "Straight"


                    if(drez == prez){
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"]
                        payobj["Blind"] = bets["Blind"]
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("Blind: +$" + nm(payobj["Blind"]))
                    }
                    else if(drez < 10000000 && drez < prez){ //dealer loses and doesnt qualify
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"] * 2
                        payobj["Blind"] = ((achievement == "") ? (bets["Blind"]) : bets["Blind"] * (payouts[game]["Blind"][0][achievement] + 1))
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("Blind: +$" + nm(payobj["Blind"]))
                    }
                    else if(drez < 10000000 && drez > prez){ //dealer wins but doesnt qualify
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = 0
                        payobj["Blind"] = 0
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: Loss")
                        gainsarray.push("Blind: Loss")
                    }
                    else if(drez > prez){
                        payobj["Ante"] = 0
                        payobj["Play"] = 0
                        payobj["Blind"] = 0
                        gainsarray.push("Ante: Loss")
                        gainsarray.push("Play: Loss")
                        gainsarray.push("Blind: Loss")
                    }
                    else if(drez < prez){
                        payobj["Ante"] = bets["Ante"] * 2
                        payobj["Play"] = bets["Play"] * 2
                        payobj["Blind"] = ((achievement == "") ? (bets["Blind"]) : bets["Blind"] * (payouts[game]["Blind"][0][achievement] + 1))
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("Blind: +$" + nm(payobj["Blind"]))
                    }
                }


                if(bets["Trips"] != undefined){
                    achievement = ""
                    if(prez >= 90000000) achievement = "Royal Flush"
                    else if(prez >= 80000000) achievement = "Straight Flush"
                    else if(prez >= 70000000) achievement = "Four of a Kind"
                    else if(prez >= 60000000) achievement = "Full House"
                    else if(prez >= 50000000) achievement = "Flush"
                    else if(prez >= 40000000) achievement = "Straight"
                    else if(prez >= 30000000) achievement = "Three of a Kind"

                    if(achievement != ""){
                        payobj["Trips"] = bets["Trips"] * (payouts[game]["Trips"][trips_tables.value][achievement] + 1)
                        gainsarray.push(`Trips: +$` + nm(bets["Trips"] * (payouts[game]["Trips"][trips_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj["Trips"] = 0
                        gainsarray.push(`Trips: Loss`)
                    }
                }

            }
            else if(game == "Jackpot Hold'Em"){
                if(nofold){

                    achievement = ""
                    if(prez >= 90000000) achievement = "Royal Flush"
                    else if(prez >= 80000000) achievement = "Straight Flush"
                    else if(prez >= 70000000) achievement = "Four of a Kind"
                    else if(prez >= 60000000) achievement = "Full House"
                    else if(prez >= 50000000) achievement = "Flush"
                    else if(prez >= 40000000) achievement = "Straight"

                    if(drez == prez){
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"]
                        payobj["XTRA Bonus"] = bets["XTRA Bonus"]
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("XTRA Bonus: +$" + nm(payobj["XTRA Bonus"]))
                    }
                    else if(drez < 10000000 && drez < prez){ //dealer loses and doesnt qualify
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"] * 2
                        payobj["XTRA Bonus"] = ((achievement == "") ? (bets["XTRA Bonus"]) : bets["XTRA Bonus"] * (payouts[game]["XTRA Bonus"][0][achievement] + 1))
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("XTRA Bonus: +$" + nm(payobj["XTRA Bonus"]))
                    }
                    else if(drez < 10000000 && drez > prez){ //dealer wins but doesnt qualify
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = 0
                        payobj["XTRA Bonus"] = 0
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: Loss")
                        gainsarray.push("XTRA Bonus: Loss")
                    }
                    else if(drez > prez){
                        payobj["Ante"] = 0
                        payobj["Play"] = 0
                        payobj["XTRA Bonus"] = 0
                        gainsarray.push("Ante: Loss")
                        gainsarray.push("Play: Loss")
                        gainsarray.push("XTRA Bonus: Loss")
                    }
                    else if(drez < prez){
                        payobj["Ante"] = bets["Ante"] * 2
                        payobj["Play"] = bets["Play"] * 2
                        payobj["XTRA Bonus"] = ((achievement == "") ? (bets["XTRA Bonus"]) : bets["XTRA Bonus"] * (payouts[game]["XTRA Bonus"][0][achievement] + 1))
                        gainsarray.push("Ante: +$" + nm(payobj["Ante"]))
                        gainsarray.push("Play: +$" + nm(payobj["Play"]))
                        gainsarray.push("XTRA Bonus: +$" + nm(payobj["XTRA Bonus"]))
                    }
                }


                if(bets["Player Bonus"] != undefined){
                    achievement = ""
                    if(prez >= 90000000) achievement = "Royal Flush"
                    else if(prez >= 80000000) achievement = "Straight Flush"
                    else if(prez >= 70000000) achievement = "Four of a Kind"
                    else if(prez >= 60000000) achievement = "Full House"
                    else if(prez >= 50000000) achievement = "Flush"
                    else if(prez >= 40000000) achievement = "Straight"
                    else if(prez >= 30000000) achievement = "Three of a Kind"

                    if(achievement != ""){
                        payobj["Player Bonus"] = bets["Player Bonus"] * (payouts[game]["Player Bonus"][0][achievement] + 1)
                        gainsarray.push(`Player Bonus: +$` + nm(bets["Trips"] * (payouts[game]["Player Bonus"][0][achievement] + 1)))
                    }
                    else{
                        payobj["Player Bonus"] = 0
                        gainsarray.push(`Player Bonus: Loss`)
                    }
                }

            }
            else if(game == "Four Card Poker"){

                if(nofold){
                    if(drez == prez){
                        payobj["Ante"] = bets["Ante"]
                        payobj["Play"] = bets["Play"]
                    }
                    else if(drez > prez){
                        payobj["Ante"] = 0
                        payobj["Play"] = 0
                    }
                    else if(drez < prez){
                        payobj["Ante"] = bets["Ante"] * 2
                        payobj["Play"] = bets["Play"] * 2
                    }

                }
                if(bets["Aces Up"] != undefined){
                    achievement = ""
                    if(prez >= 7000000){
                        achievement = "Four of a Kind"
                        payobj["Ante"] += bets["Ante"] * 25
                        gainsarray.push("Ante Bonus: +$" + (bets["Ante"] * 25))
                    }
                    else if(prez >= 6000000){
                        achievement = "Straight Flush"
                        payobj["Ante"] += bets["Ante"] * 20
                        gainsarray.push("Ante Bonus: +$" + (bets["Ante"] * 20))
                    }
                    else if(prez >= 5000000){
                        payobj["Ante"] += bets["Ante"] * 2
                        gainsarray.push("Ante Bonus: +$" + (bets["Ante"] * 2))
                        achievement = "Three of a Kind"
                    }
                    else if(prez >= 4000000) achievement = "Flush"
                    else if(prez >= 3000000) achievement = "Straight"
                    else if(prez >= 2000000) achievement = "Two Pair"
                    else if(prez >= 1004820) achievement = "Pair of Aces"


                    if(achievement != ""){
                        payobj["Aces Up"] = bets["Aces Up"] * (payouts[game]["Aces Up"][acesup_tables.value][achievement] + 1)
                    }
                    else{
                        payobj["Aces Up"] = 0
                    }
                }

                for(y of ["Ante", "Play", "Aces Up"]){
                    if(payobj[y] != undefined) money += payobj[y]
                    gainsarray.push(y + ": " + (payobj[y] == 0 ? "Lost" : ("+$" + nm(payobj[y]))))
                }
            }
            else if(game == "Mississippi Stud"){

                if(nofold){

                    achievement = ""
                    if(prez >= 70000000) achievement = "Four of a Kind"
                    else if(prez >= 60000000) achievement = "Straight Flush"
                    else if(prez >= 50000000) achievement = "Three of a Kind"
                    else if(prez >= 40000000) achievement = "Flush"
                    else if(prez >= 30000000) achievement = "Straight"
                    else if(prez >= 20000000) achievement = "Two Pair"
                    else if(prez >= 10072820) achievement = "Jacks or Better"
                    else if(prez >= 10032820) achievement = "Pair of 6-10's"
                    for(y of ["Ante", "Third Street", "Fourth Street", "Fifth Street"]){
                        if(achievement == "") payobj[y] = 0
                        else payobj[y] = (bets[y] * (payouts[game]["Ante and Streets"][0][achievement] + 1))
                        if(payobj[y] != undefined) money += payobj[y]
                        gainsarray.push(y + ": " + (payobj[y] == 0 ? "Lost" : ("+$" + nm(payobj[y]))))
                    }
                }

            }
            else if(game == "Dakota Duel Draw"){

                if(nofold){
                    for(twonums = 1; twonums < 3; twonums++){
                        achievement = ""
                        trez = (twonums == 1 ? frez : srez)
                        if(bets["Play 2"] != undefined){
                            if(trez >= 90000000) achievement = "Royal Flush"
                            else if(trez >= 80000000) achievement = "Straight Flush"
                            else if(trez >= 70000000) achievement = "Four of a Kind"
                            else if(trez >= 60000000) achievement = "Full House"
                            else if(trez >= 50000000) achievement = "Flush"
                            else if(trez >= 40000000) achievement = "Straight"
                            else if(trez >= 30000000) achievement = "Three of a Kind"
                            else if(trez >= 20000000) achievement = "Two Pair"
                            else if(trez >= 10056820) achievement = "Nines or Better"
                        }
                        if(achievement != ""){
                            payobj["Play " + twonums] = bets["Play " + twonums] * (payouts[game]["Plays"][0][achievement] + 1)
                            gainsarray.push(`Play ${twonums}: +$` + nm(bets["Play 2"] * (payouts[game].Plays[0][achievement] + 1)))
                        }
                        else{
                            payobj["Play " + twonums] = 0
                            gainsarray.push(`Play ${twonums}: Loss`)
                        }
                    }
                }

                achievement = ""

                if(pocketbonus_tables.value == 0){
                    if(prez >= 10140){
                        payobj["Play 2"] += bets["Play 2"] * 9
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 9))
                    }
                }
                else if(pocketbonus_tables.value == 1){
                    if(prez == 10240){
                        payobj["Play 2"] += bets["Play 2"] * 20
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 20))
                    }
                    else if(prez == 10220){
                        payobj["Play 2"] += bets["Play 2"] * 10
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 10))
                    }
                    else if(prez >= 10140){
                        payobj["Play 2"] += bets["Play 2"] * 4
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 4))
                    }
                }
                else if(pocketbonus_tables.value == 2){
                    if(prez == 10240){
                        payobj["Play 2"] += bets["Play 2"] * 20
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 20))
                    }
                    else if(prez == 10220){
                        payobj["Play 2"] += bets["Play 2"] * 10
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 10))
                    }
                    else if(prez == 10200){
                        payobj["Play 2"] += bets["Play 2"] * 8
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 8))
                    }
                    else if(prez >= 10140){
                        payobj["Play 2"] += bets["Play 2"] * 3
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 3))
                    }
                }
                else if(pocketbonus_tables.value == 3){
                    if(prez >= 10180){
                        payobj["Play 2"] += bets["Play 2"] * 4
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 4))
                    }
                    else if(prez >= 10000){
                        payobj["Play 2"] += bets["Play 2"] * 3
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 3))
                    }
                }
                else if(pocketbonus_tables.value == 4){
                    if(prez >= 10120){
                        payobj["Play 2"] += bets["Play 2"] * 4
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 4) + "<br>")
                    }
                    else if(prez >= 10000){
                        payobj["Play 2"] += bets["Play 2"] * 3
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 3) + "<br>")
                    }
                }
                else if(pocketbonus_tables.value == 5){
                    if(prez >= 10060){
                        payobj["Play 2"] += bets["Play 2"] * 4
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 4) + "<br>")
                    }
                    else if(prez >= 10000){
                        payobj["Play 2"] += bets["Play 2"] * 3
                        gainsarray.push(`Pocket Bonus: +$` + nm(bets["Play 2"] * 3) + "<br>")
                    }
                }

                achievement = ""

                

                if(bets["Big 8"] != undefined){
                    if(erez >= 90000000) achievement = "Royal Flush"
                    else if(erez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(erez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(erez >= 60000000){
                        achievement = "Full House"
                    }
                    else if(erez >= 50000000){
                        achievement = "Flush"
                    }
                    else if(erez >= 40000000){
                        achievement = "Straight"
                    }
                }


                if(achievement != ""){
                    payobj["Big 8"] = bets["Big 8"] * (payouts[game]["Big 8"][big8_tables.value][achievement] + 1)
                    gainsarray.push(`Big 8: +$` + nm(bets["Big 8"] * (payouts[game]["Big 8"][big8_tables.value][achievement] + 1)))
                }
                else if(bets["Big 8"] != undefined){
                    payobj["Big 8"] = 0
                    gainsarray.push(`Big 8: Loss`)
                }

                //

                

                if(bets["Progressive Jackpot"] != undefined){
                    achievement = ""
                    if(erez >= 90000000) achievement = "Royal Flush"
                    else if(erez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(erez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(erez >= 60000000 && progressivejackpot_tables.value == 1){
                        achievement = "Full House"
                    }
                    if(achievement != ""){
                        whatIearn = 0
                        whatIearn = payouts[game]["Progressive Jackpot"][progressivejackpot_tables.value][achievement]
                        if((whatIearn).startsWith("J")){
                            amo = +whatIearn.split("J")[1]
                            whatIearn = myjackpot * (amo / 100)
                            myjackpot -= whatIearn
                        }
                        else if(whatIearn.endsWith("S")){
                            whatIearn = +(whatIearn.slice(0, -1))
                        }
                        if(myjackpot < 2000) myjackpot = 2000
                        payobj["Progressive Jackpot"] = whatIearn
                        gainsarray.push(`Progressive Jackpot: +$` + nm(whatIearn))
                    }
                    else{
                        payobj["Progressive Jackpot"] = 0
                        gainsarray.push(`Progressive Jackpot: Loss`)
                    }
                }


            }
            else if(game.includes("Baccarat")){
                if(bets["Tie"] != undefined){
                    if(brez[0] == prez[0]){
                        payobj["Tie"] = bets["Tie"] * 9
                        gainsarray.push(`Tie: +$` + nm(bets["Tie"] * 9))
                    }
                    else{
                        payobj["Tie"] = 0
                        gainsarray.push("Tie: Loss")
                    }
                }
                if(bets["Banker"] != undefined){
                    if(brez[0] > prez[0]){
                        if(game == "Mini Baccarat"){
                            payobj["Banker"] = bets["Banker"] * 1.95
                            gainsarray.push(`Banker: +$` + nm(bets["Banker"] * 1.95))
                        }
                        else if( 
                            ((brez[0] == 7) && (prez[0] == 6) && (game == "BBQ Baccarat")) ||
                            ((brez[0] == 7) && (brez[1] == 3) && (game == "EZ Baccarat"))
                        ){
                            payobj["Banker"] = bets["Banker"]
                            gainsarray.push(`Banker: +$` + nm(bets["Banker"]))
                        }
                        else if(brez[0] == 6 && game == "Nepal Baccarat"){
                            payobj["Banker"] = bets["Banker"] * 1.5
                            gainsarray.push(`Banker: +$` + nm(bets["Banker"] * 1.5))
                        }
                        else{
                            payobj["Banker"] = bets["Banker"] * 2
                            gainsarray.push(`Banker: +$` + nm(bets["Banker"] * 2))
                        }
                    }
                    else if(prez[0] == brez[0]){
                        payobj["Banker"] = bets["Banker"]
                        gainsarray.push(`Banker: +$` + nm(bets["Player"]))
                    }
                    else{
                        payobj["Banker"] = 0
                        gainsarray.push("Banker: Loss")
                    }
                }
                if(bets["Player"] != undefined){
                    if(prez[0] > brez[0]){
                        payobj["Player"] = bets["Player"] * 2
                        gainsarray.push(`Player: +$` + nm(bets["Player"] * 2))
                    }
                    else if(prez[0] == brez[0]){
                        payobj["Player"] = bets["Player"]
                        gainsarray.push(`Player: +$` + nm(bets["Player"]))
                    }
                    else{
                        payobj["Player"] = 0
                        gainsarray.push("Player: Loss")
                    }
                }
                if(bets["Any BBQ"] != undefined){
                    if((brez[0] == 7 && prez[0] == 6) || (prez[0] == 7 && brez[0] == 6)){
                        payobj["Any BBQ"] = bets["Any BBQ"] * 21
                        gainsarray.push(`Any BBQ: +$` + nm(bets["Any BBQ"] * 21))
                    }
                    else{
                        payobj["Any BBQ"] = 0
                        gainsarray.push("Any BBQ: Loss")
                    }
                }
                if(bets["Small Banker BBQ"] != undefined){
                    if((brez[0] == 7 && prez[0] == 6) && (brez[1] == 2)){
                        payobj["Small Banker BBQ"] = bets["Small Banker BBQ"] * 61
                        gainsarray.push(`Small Banker BBQ: +$` + nm(bets["Small Banker BBQ"] * 61))
                    }
                    else{
                        payobj["Small Banker BBQ"] = 0
                        gainsarray.push("Small Banker BBQ: Loss")
                    }
                }
                if(bets["Big Banker BBQ"] != undefined){
                    if((brez[0] == 7 && prez[0] == 6) && (brez[1] == 3)){
                        payobj["Big Banker BBQ"] = bets["Big Banker BBQ"] * 126
                        gainsarray.push(`Big Banker BBQ: +$` + nm(bets["Big Banker BBQ"] * 126))
                    }
                    else{
                        payobj["Big Banker BBQ"] = 0
                        gainsarray.push("Big Banker BBQ: Loss")
                    }
                }
                if(bets["Small Player BBQ"] != undefined){
                    if((prez[0] == 7 && brez[0] == 6) && (prez[1] == 2)){
                        payobj["Small Player BBQ"] = bets["Small Player BBQ"] * 61
                        gainsarray.push(`Small Player BBQ: +$` + nm(bets["Small Player BBQ"] * 61))   
                    }
                    else{
                        payobj["Small Player BBQ"] = 0
                        gainsarray.push("Small Player BBQ: Loss")
                    }
                }
                if(bets["Big Player BBQ"] != undefined){
                    if((prez[0] == 7 && brez[0] == 6) && (prez[1] == 2)){
                        payobj["Big Player BBQ"] += bets["Big Player BBQ"] * 151
                        gainsarray.push(`Big Player BBQ: +$` + nm(bets["Big Player BBQ"] * 151))
                    }
                    else{
                        payobj["Big Player BBQ"] = 0
                        gainsarray.push("Big Player BBQ: Loss")
                    }
                }
            }
            else if(game == "Miami Four Card"){
                achievement = ""
                if(prez >= 50000){
                    achievement = "Straight Flush"
                }
                else if(prez >= 40000){
                    achievement = "Three of a Kind"
                }
                else if(prez >= 30000){
                    achievement = "Straight"
                }
                else if(prez >= 20000){
                    achievement = "Flush"
                }
                else if(prez >= 10000){
                    achievement = "Pair"
                }

                if(achievement != ""){
                    payobj["Ante"] = bets["Ante"] * ((payouts[game]["Ante and Play"][anteandplay_tables.value][achievement] + 1) * 3)
                    gainsarray.push(`Ante / Play (+$` + nm(bets["Ante"] * ((payouts[game]["Ante and Play"][anteandplay_tables.value][achievement] + 1) * 3)) + ")")
                }
                else{
                    payobj["Ante"] = 0
                    gainsarray.push("Ante / Play: Loss")
                }

                if(bets["Miami Clubs"] != undefined){
                    achievement = ""
                    if(crez == 4){
                        achievement = "Four Clubs"
                    }
                    else if(crez >= 3){
                        achievement = "Three Clubs"
                    }
                    else if(crez >= 2){
                        achievement = "Two Clubs"
                    }

                    if(achievement != ""){
                        payobj["Miami Clubs"] = bets["Miami Clubs"] * ((payouts[game]["Miami Clubs"][miamiclubs_tables.value][achievement] + 1))
                        gainsarray.push(`Miami Clubs: +$` + nm(bets["Miami Clubs"] * ((payouts[game]["Miami Clubs"][miamiclubs_tables.value][achievement] + 1) )))
                    }
                    else{
                        payobj["Miami Clubs"] = 0
                        gainsarray.push("Miami Clubs: Loss")
                    }
                }
            }

            if(mymode == "Player"){
                mygains.innerHTML = gainsarray.join("; ")
                buttonp.innerHTML = `<button class="button letsdeal" id="chip_deal" onclick="startOver()">New Bet</button> <button class="button letsdeal" id="chip_deal" onclick="rebet()">Rebet</button>`
                cash.textContent = nm(money)
            }
            return payobj

        }

        function rebet(){
            if(["Three Card Poker", "Miami Four Card", "Ultimate Texas Hold'Em", "Jackpot Hold'Em"].includes(game)){
                bets["Play"] = 0
                play_cost.textContent = 0
            }
            else if(game == "Mississippi Stud"){
                bets["Third Street"] = bets["Fourth Street"] = bets["Fifth Street"] = 0
                thirdstreet_cost.textContent = fourthstreet_cost.textContent = fifthstreet_cost.textContent = 0
            }
            else if(game == "Dakota Duel Draw"){
                bets["Play 1"] = 0
                play1_cost.textContent = 0
            }
            mygains.textContent = ""
            money -= Object.values(bets).reduce((a, b) => a + b, 0)
            cash.textContent = nm(money)
            letsplay()
        }


        function startOver(){
            bets = {}
            cash.textContent = nm(money)
            document.querySelectorAll('.am').forEach(span => { span.textContent = '0' })
            //shadowbutton("play")
            if(game == "Three Card Poker"){
                awakenbutton("ante")
                awakenbutton("pairplus")
                awakenbutton("sixcardbonus")
                awakenbutton("progressivejackpot")
            }
            else if(game.includes("Baccarat")){
                awakenbutton("player")
                awakenbutton("banker")
                awakenbutton("tie")
                if(game == "BBQ Baccarat"){
                    awakenbutton("anybbq")
                    awakenbutton("smallplayerbbq")
                    awakenbutton("bigplayerbbq")
                    awakenbutton("smallbankerbbq")
                    awakenbutton("bigbankerbbq")
                }
            }
            else if(game == "Dakota Duel Draw"){
                awakenbutton("play2")
                awakenbutton("big8")
            }
            else if(game == "Miami Four Card"){
                awakenbutton("ante")
                awakenbutton("miamiclubs")
            }
            else if(game == "Mississippi Stud"){
                awakenbutton("ante")
            }
            else if(game == "Ultimate Texas Hold'Em"){
                awakenbutton("ante")
                awakenbutton("trips")
            }
            else if(game == "Jackpot Hold'Em"){
                awakenbutton("ante")
                awakenbutton("playerbonus")
            }

            buttonp.innerHTML = mymode == "Player" ? `<button class="button" id="chip_deal" onclick="letsplay()">Deal</button>` : ``
        }
        function awakenbutton(name){
            document.getElementById(name).classList.remove("gray")
            document.getElementById(name).classList.add("putchipshere")
        }
        function shadowbutton(name){
            document.getElementById(name).classList.remove("putchipshere")
            document.getElementById(name).classList.add("gray")
        }

        trips = ["AAA", "KKK", "QQQ", "JJJ", "TTT", "999", "888", "777", "666", "555", "444", "333", "222"]
        pairs = ["AA", "KK", "QQ", "JJ", "TT", "99", "88", "77", "66", "55", "44", "33", "22"]
        quads = ["AAAA", "KKKK", "QQQQ", "JJJJ", "TTTT", "9999", "8888", "7777", "6666", "5555", "4444", "3333", "2222"]

        function evalthree(threecardone){
            straights3 = ["A32", "432", "543", "654", "765", "876", "987", "T98", "JT9",  "QJT", "KQJ", "AKQ"]
            onehand = threecardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCC", "DDD", "HHH", "SSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights3.length; x++){
                if(nums == straights3[x]){
                    if(flush){
                        if(nums == "AKQ"){
                            if(onehand[0] == "AS") return 70000
                            return 60000
                        }
                        else return 50000 + x
                    }
                    else return 30000 + /*strt*/ x
                }
            }
            if(flush){
                return 20000/*flush*/ + 400 * unorder.indexOf(nums[0]) + 20 * unorder.indexOf(nums[1]) + unorder.indexOf(nums[2])
            }
            for(x = 0; x < trips.length; x++){
                if(nums.includes(trips[x])){
                    return 40000 + /*"three of a kind"*/ unorder.indexOf(trips[x][0])
                }
            }
            for(x = 0; x < pairs.length; x++){
                if(nums.includes(pairs[x])){
                    return 10000 + (20 * unorder.indexOf(pairs[x][0])) + unorder.indexOf(nums.replace(pairs[x], ""))
                }
            }
            return 0 /*nothing*/ + 400 * unorder.indexOf(nums[0]) + 20 * unorder.indexOf(nums[1]) + unorder.indexOf(nums[2])
        }

        function evalfour(fourcardone){
            straights4 = ["A432", "5432", "6543", "7654", "8765", "9876", "T987", "JT98", "QJT9", "KQJT", "AKQJ"]
            onehand = fourcardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCCC", "DDDD", "HHHH", "SSSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights4.length; x++){
                if(nums == straights4[x]){
                    if(flush){
                        return 6000000 + x
                    }
                    else return 3000000 + /*strt*/ x
                }
            }
            if(flush){
                return 4000000/*flush*/ + 8000 * unorder.indexOf(nums[0]) + 400 * unorder.indexOf(nums[1]) + 20 * unorder.indexOf(nums[2]) + unorder.indexOf(nums[3])
            }
            for(x = 0; x < quads.length; x++){
                if(nums.includes(quads[x])){
                    return 7000000 + unorder.indexOf(quads[x][0])
                }
            }            
            for(x = 0; x < trips.length; x++){
                if(nums.includes(trips[x])){
                    return 5000000 + /*"three of a kind"*/ 20 * unorder.indexOf(trips[x][0]) + unorder.indexOf(nums.replace(trips[x], "")[0])
                }
            }
            for(x = 0; x < pairs.length; x++){
                if(nums.includes(pairs[x])){
                    for(y = x + 1; y < pairs.length; y++){
                        if(nums.includes(pairs[y])) return 2000000 + (20 * unorder.indexOf(pairs[x][0])) + (unorder.indexOf(pairs[y][0]))
                    }
                    return 1000000 + (400 * unorder.indexOf(pairs[x][0])) + 20 * unorder.indexOf(nums.replace(pairs[x], "")[0]) + unorder.indexOf(nums.replace(pairs[x], "")[1])
                }
            }
            return 0 /*nothing*/ + 8000 * unorder.indexOf(nums[0]) + 400 * unorder.indexOf(nums[1]) + 20 * unorder.indexOf(nums[2]) + unorder.indexOf(nums[3])
        }

        function evalfivemany(eightcardone){
            return Math.max(...getCombinations(eightcardone, 5).map(x => evalfive(x)))
        }
        function getCombinations(arr, k) {
                const combos = [];

                function helper(start, combo) {
                    if (combo.length === k) {
                    combos.push(combo);
                    return;
                    }

                    for (let i = start; i < arr.length; i++) {
                    helper(i + 1, combo.concat(arr[i]));
                    }
                }

                helper(0, []);
                return combos;
        }

        function evalfive(fivecardone){
            straights5 = ["A5432", "65432", "76543", "87654", "98765", "T9876", "JT987", "QJT98", "KQJT9", "AKQJT"]
            onehand = fivecardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCCCC", "DDDDD", "HHHHH", "SSSSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights5.length; x++){
                if(nums == straights5[x]){
                    if(flush){
                        return (nums == "AKQJT" ? 90000000 + /*"royal flush"*/ x : [80000000/*"straight flush"*/+ x])
                    }
                    else return 40000000 + /*strt*/ x
                }
            }
            if(flush){
                return 50000000 + (20**4 * unorder.indexOf(nums[0])) + (20**3 * unorder.indexOf(nums[1])) + (20**2 * unorder.indexOf(nums[2])) + (20 * unorder.indexOf(nums[4])) + unorder.indexOf(nums[4])
            }
            for(x = 0; x < quads.length; x++){
                if(nums.includes(quads[x])){
                    return 70000000 + /*"four of a kind"*/ (20 * unorder.indexOf(quads[x][0])) + unorder.indexOf(nums.replace(quads[x], ""))
                }
            }
            for(x = 0; x < trips.length; x++){
                //ful house 60 000 000
                if(nums.includes(trips[x])){
                    for(y = 0; y < pairs.length; y++){
                        if(y != x && nums.includes(pairs[y])) return 60000000 + (20 * unorder.indexOf(trips[x][0])) + (unorder.indexOf(pairs[y][0]))
                    }
                    return 30000000 + /*"three of a kind"*/ (400 * unorder.indexOf(trips[x][0])) + (20 * unorder.indexOf(nums.replace(trips[x][0], "")[0])) + unorder.indexOf(nums.replace(trips[x][0], "")[1])
                }
            }
            for(x = 0; x < pairs.length; x++){

                //two pair 20 000 000
                if(nums.includes(pairs[x])){
                    for(y = x + 1; y < pairs.length; y++){
                        if(nums.includes(pairs[y])) return 20000000 + (400 * unorder.indexOf(pairs[x][0])) + (20 * unorder.indexOf(pairs[y][0])) + unorder.indexOf(nums.replace(pairs[x], "").replace(pairs[y], ""))
                    }
                    return 10000000 + /*pair*/ (8000 * (unorder.indexOf(pairs[x][0]))) + (400 * unorder.indexOf(nums.replace(pairs[x], "")[0])) + (20 * unorder.indexOf(nums.replace(pairs[x], "")[1])) + (unorder.indexOf(nums.replace(pairs[x], "")[2]))
                }
            }
            return 0 /*nothing*/ + 160000 * unorder.indexOf(nums[0]) + 8000 * unorder.indexOf(nums[1]) + 400 * unorder.indexOf(nums[2]) + 20 * unorder.indexOf(nums[3]) + unorder.indexOf(nums[4])
        }


        payouts = {
            "Three Card Poker": {
                "Ante Bonus": [
                    {
                        "Straight Flush": 5,
                        "Three of a Kind": 4,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 4,
                        "Three of a Kind": 3,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 3,
                        "Three of a Kind": 2,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 5,
                        "Three of a Kind": 3,
                        "Straight": 1,
                    },
                ],
                "PairPlus": [
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 35,
                        "Three of a Kind": 33,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 25,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 35,
                        "Three of a Kind": 25,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 50,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 3,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 5,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 25,
                        "Straight": 5,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 3,
                        "Pair": 1,
                    },
                ],
                "Six Card Bonus": [
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 100,
                        "Full House": 20,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 7,
                    },
                    {
                        "Royal Flush": 2000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 20,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                ],
                "Progressive Jackpot": [
                    {
                        "Spade Mini Royal": "J100",
                        "Mini Royal": "500S",
                        "Straight Flush": "100S",
                        "Three of a Kind": "90S"
                    },
                    {
                        "Spade Mini Royal": "J100",
                        "Mini Royal": "500S",
                        "Straight Flush": "70S",
                        "Three of a Kind": "60S",
                        "Straight": "6S",
                    },
                ]
            },
            "Dakota Duel Draw": {
                "Plays": [
                    {
                        "Royal Flush": 100,
                        "Straight Flush": 50,
                        "Four of a Kind": 30,
                        "Full House": 8,
                        "Flush": 6,
                        "Straight": 4,
                        "Three of a Kind": 3,
                        "Two Pair": 2,
                        "Nines or Better": 2,
                    },
                ],
                "Big 8": [
                    {
                        "Royal Flush": 150,
                        "Straight Flush": 70,
                        "Four of a Kind": 30,
                        "Full House": 5,
                        "Flush": 3,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 15,
                        "Full House": 5,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 20,
                        "Full House": 5,
                        "Flush": 4,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 20,
                        "Full House": 6,
                        "Flush": 3,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 35,
                        "Four of a Kind": 30,
                        "Full House": 4,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 80,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 4,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 150,
                        "Straight Flush": 80,
                        "Four of a Kind": 35,
                        "Full House": 5,
                        "Flush": 4,
                        "Straight": 0,
                    },
                ],
                "Pocket Bonus": [
                    {
                        "Nines or Better": 8,
                    },
                    {
                        "Pair of Aces": 20,
                        "Pair of Kings": 10,
                        "Pair of 9's-Queens": 4,
                    },
                    {
                        "Pair of Aces": 20,
                        "Pair of Kings": 10,
                        "Pair of Queens": 8,
                        "Pair of 9's-Jacks": 3,
                    },
                    {
                        "Jacks or Better": 4,
                        "Pair of 2's-10's": 3,
                    },
                    {
                        "Eights or Better": 4,
                        "Pair of 2's-7's": 3,
                    },
                    {
                        "Fives or Better": 4,
                        "Pair of 2's-4's": 3,
                    },
                ],
                "Progressive Jackpot": [
                    {
                        "Royal Flush": "J100",
                        "Straight Flush": "J10",
                        "Four of a Kind": "80S",
                    },
                    {
                        "Royal Flush": "J100",
                        "Straight Flush": "500S",
                        "Four of a Kind": "100S",
                    },
                ]
            },
            "Crazy 4 Poker": {
                "Super Bonus": [
                    {
                        "Four Aces": 200,
                        "Four of a Kind": 30,
                        "Straight Flush": 15,
                        "Three of a Kind": 2,
                        "Flush": 1.5,
                        "Straight": 1,
                    },
                ],
                "Queens Up": [
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 9,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 8,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                ],
            },
            "Four Card Poker": {
                "Ante Bonus": [
                    {
                        "Four of a Kind": 25,
                        "Straight Flush": 20,
                        "Three of a Kind": 2,
                    },
                    {
                        "Four of a Kind": 30,
                        "Straight Flush": 15,
                        "Three of a Kind": 2,
                    },
                ],
                "Aces Up": [
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 9,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 6,
                        "Straight": 5,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 9,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 7,
                        "Flush": 6,
                        "Straight": 5,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 5,
                        "Straight": 4,
                        "Two Pair": 3,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 5,
                        "Straight": 4,
                        "Two Pair": 3,
                        "Pair of Aces": 1,
                    },
                ],
            },
            "Miami Four Card": {
                "Ante and Play": [
                    {
                        "Straight Flush": 7,
                        "Three of a Kind": 4,
                        "Straight": 2,
                        "Flush": 1,
                        "Pair": 0,
                    },
                    {
                        "Straight Flush": 8,
                        "Three of a Kind": 3,
                        "Straight": 2,
                        "Flush": 1,
                        "Pair": 0,
                    },
                ],
                "Miami Clubs": [
                    { //-0.05685474189
                        "Four Clubs": 10,
                        "Three Clubs": 6,
                        "Two Clubs": 2,
                    },
                    { //-0.05685474189
                        "Four Clubs": 20,
                        "Three Clubs": 5,
                        "Two Clubs": 2,
                    },
                    { //-0.07164
                        "Four Clubs": 30,
                        "Three Clubs": 4,
                        "Two Clubs": 2,
                    },
                ],
            },
            "Mississippi Stud": {
                "Ante and Streets": [
                    {
                        "Royal Flush": 500,
                        "Straight Flush": 100,
                        "Four of a Kind": 40,
                        "Full House": 10,
                        "Flush": 6,
                        "Straight": 4,
                        "Three of a Kind": 3,
                        "Two Pair": 2,
                        "Jacks or Better": 1,   
                        "Pair of 6-10's": 0,
                    }
                ]
            },
            "Ultimate Texas Hold'Em": {
                "Blind": [
                    {
                        "Royal Flush": 500,
                        "Straight Flush": 50,
                        "Four of a Kind": 10,
                        "Full House": 3,
                        "Flush": 1.5,
                        "Straight": 1,
                    },
                ],
                "Trips": [
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 9,
                        "Flush": 7,
                        "Straight": 4,
                        "Three of a Kind": 3,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 8,
                        "Flush": 6,
                        "Straight": 5,
                        "Three of a Kind": 3,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 8,
                        "Flush": 7,
                        "Straight": 4,
                        "Three of a Kind": 3,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 40,
                        "Four of a Kind": 20,
                        "Full House": 7,
                        "Flush": 6,
                        "Straight": 5,
                        "Three of a Kind": 3,
                    },
                ]
            },
            "Jackpot Hold'Em": {
                "XTRA Bonus": [
                    {
                        "Royal Flush": 500,
                        "Straight Flush": 50,
                        "Four of a Kind": 10,
                        "Full House": 4,
                        "Flush": 2,
                        "Straight": 1,
                    },
                ],
                "Player Bonus": [
                    {
                        "Royal Flush": 100,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 8,
                        "Flush": 7,
                        "Straight": 4,
                        "Three of a Kind": 3,
                    },
                ]
            },
        }

        function fixtables(lid){
            document.getElementById(lid.replace(/[ \(\)]/g, "").toLowerCase() + "_numbers").innerHTML = Object.entries(payouts[game][lid][document.getElementById(lid.replace(/[ \(\)]/g, "").toLowerCase() + "_tables").value]).map(x => `<tr><td>${x[0]}</td><td>${ratio(x[1])}</td></tr>`).join("")
        }

        function ratio(num){
            if(num == 0) return "Push"
            else if(("" + num).startsWith("J")) return "<u>" + num.split("J")[1] + "% of Jackpot</u>"
            else if(("" + num).endsWith("S")) return "$" + num.slice(0, -1)
            else if((num * 2) % 2 != 0){
                return (num * 2) + ":2"
            }
            else return num + ":1"
        }

        function B(b){
            h = 14
            inc = 14
            theclass = ((["Play 1", "Play", "Super Bonus", "Third Street", "Fourth Street", "Fifth Street", "Blind", "XTRA Bonus"].includes(b) && mymode == "Player") ? "gray" : "putchipshere")
            if((b.includes("Play") && !b.includes("Player")) || b == "Ante" || b.includes("Street")) theclass += " diamondbutton"
            nn = `<button class="${theclass}" id="${b.toLowerCase().replace(/ /g, "")}" value="${b}" onclick="increase(this.value)" oncontextmenu="decrease(this.value)"><div>${b}<br><br>$<span class="am" id="${b.toLowerCase().replace(/ /g, "")}_cost">${mymode == "Dealer" ? bets[b] : 0}</span>${(mymode == "Player" ? `` : ` [<span id="${b.toLowerCase().replace(/ /g, "")}_pay">$0</span>]`)}</div></button>`
            return nn
        }

        function dopayout(){
            incorrectarr = []
            for(x of Object.entries(payobj)){
                if(x[1] == 0){
                    if(pays[x[0]] != "Loss"){
                        incorrectarr.push("The " + x[0] + " bet loses")
                    }
                }
                else if((x[1] / bets[x[0]]) == 1){
                    if(pays[x[0]] != "Push"){
                        incorrectarr.push("The " + x[0] + " bet pushes")
                    }
                }
                else{
                    if((x[1] - bets[x[0]]) != pays[x[0]]){
                        incorrectarr.push("The " + x[0] + " bet should get $" + (x[1] - bets[x[0]]))
                    }
                }
            }
            mygains.innerHTML = incorrectarr.join("<br>")
            if(incorrectarr.length == 0) mygains.innerHTML = "Correct! Well done :)"
            buttonp.innerHTML = `<button class="letsdeal button" id="chip_deal" onclick="nextround()">Next Round</button>`
            betset()
        }
        function nextround(){
            pays = {}
            mygains.innerHTML = ""
            letsplay()
            play()
            changegame()
        }

        function originalchangegame(){
            if(mymode == "Player") changegame()
            else if(mymode == "Dealer"){
                changemode()
                changegame()
            }
        }

        function changegame(){
            game = gametitle.value
            communityshand.innerHTML = ""
            if(mymode == "Player") buttonp.innerHTML = `<button class="button" id="chip_deal" onclick="letsplay()">Deal</button>`
            else{ //dealer mode
                if(game.includes("Baccarat")){
                    buttonp.innerHTML = `<button class="letsdeal button" id="chip_deal" onclick="action('player')">+1 Player Card</button> <button class="letsdeal button" id="chip_deal" onclick="action('banker')">+1 Banker Card</button> <button class="letsdeal button" id="chip_deal" onclick="action('payout')">Pay<br>Out</button>`
                }
                else buttonp.innerHTML = `<button class="letsdeal button" id="chip_deal" onclick="dopayout()">Pay Out</button>`
            }
            mycash.style.display = (mymode == "Dealer" ? "none" : "block")
            defaultcards()
            mybuttonsnow = {
                "Miami Four Card": `${B("Ante")}${B("Play")}${B("Miami Clubs")}`,
                "Dakota Duel Draw": `${B("Play 1")}${B("Play 2")}${B("Big 8")}`,
                "Three Card Poker": `${B("Play")}${B("Ante")}${B("PairPlus")}${B("Six Card Bonus")}${B("Progressive Jackpot")}`,
                "Baccarat": `${B("Player")}${B("Banker")}${B("Tie")}`,
                "Crazy 4 Poker": `${B("Play")}${B("Super Bonus")}${B("Ante")}${B("Queens Up")}`,
                "Four Card Poker": `${B("Play")}${B("Ante")}${B("Aces Up")}`,
                "Mississippi Stud": `${B("Ante")}${B("Third Street")}${B("Fourth Street")}${B("Fifth Street")}`,
                "Ultimate Texas Hold'Em": `${B("Play")}${B("Ante")}${B("Blind")}${B("Trips")}`,
                "Jackpot Hold'Em": `${B("Play")}${B("Ante")}${B("XTRA Bonus")}${B("Player Bonus")}`,
            }[game.includes("Baccarat") ? "Baccarat" : game]
            mybids.innerHTML = mybuttonsnow
            hh = mybids.innerHTML
            mybids2.innerHTML = {
                "BBQ Baccarat": `${B("Any BBQ")}${B("Small Banker BBQ")}${B("Small Player BBQ")}${B("Big Banker BBQ")}${B("Big Player BBQ")}`,
            }[game] ?? ``
            left.innerHTML = ""
            if(["Three Card Poker", "Dakota Duel Draw", "Miami Four Card", "Crazy 4 Poker", "Four Card Poker", "Mississippi Stud", "Ultimate Texas Hold'Em", "Jackpot Hold'Em"].includes(game)){
                for(x of Object.entries(payouts[game])){
                    left.innerHTML += `<table id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_table"> <thead> <caption>${x[0]}</caption> ${x[1].length <= 1 ? `` : `<tr><th colspan="2">Table<select name="${x[0]}" onchange="fixtables(this.name)" id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_tables"> ${x[1].map((a, b) => `<option value="${b}">#${+b + 1}</option>`).join("")}</select></th> </tr>`}</thead> <tbody id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_numbers">${Object.entries(x[1][0]).map(y => `<tr><td>${y[0]}</td><td>${ratio(y[1])}</td></tr>`).join("")}</tbody> </table>`
                }
                if(["Three Card Poker", "Dakota Duel Draw"].includes(game)){
                    left.innerHTML += "<p id='progress'><span id='progressspan'>Jackpot: <span id='jackpot'>calculating...</span></span></p>"
                }
            }
            else if(game == "BBQ Baccarat"){
                left.innerHTML = `<table id="bbqtable"><tr><td>Any BBQ</td><td>20:1</td></tr><tr><td>Small Banker BBQ</td><td>60:1</td></tr><tr><td>Small Player BBQ</td><td>60:1</td></tr><tr><td>Big Banker BBQ</td><td>125:1</td></tr><tr><td>Big Player BBQ</td><td>150:1</td></tr></table>`
            }
            else if(game == "EZ Baccarat" || game == "Nepal Baccarat" || game == "Mini Baccarat"){
                left.innerHTML = `<div id="baccaratdiv"><h1>Drawing Rules</h1><p>If either hand totals 8 or 9, no further cards are drawn</p><p>If the Player’s total is 0–5, they draw a third card</p><p>If the Player does not draw a card, the Banker draws if their total is 0-5</p><p>However, if the Player draws a third card, different drawing rules are followed. The Banker always draws on a total of 0–2. For totals of 3–6, whether the Banker draws depends on the Player’s third card: they draw on 3 unless it's 8, on 4 if the Player's card is 2–7, on 5 if it's 4–7, and on 6 only if it's 6 or 7.</p><hr><p>Each card is worth its face value, aces are worth one, and face cards are worth ten. To get a hand's total value, add up the card's values, divide by ten, and take the remainder.</p><p>Ties pay 8:1</p></div>`
            }
            if(mymode == "Dealer"){
                for(x of ["progressivejackpot_table", "progressivejackpot", "progress"]) if(document.getElementById(x)) document.getElementById(x).style.display = "none"
            }
        }

        function menuize(ourgame){
            menu.style.display = "none"
            left.style.display = right.style.display = "block"
            gametitle.value = ourgame
            changegame()
        }

        betamount(5)

        //Miami Four Card

        //according to my calc: 1.0490349986149583% house edge
        
        //1.45682888540037% house edge second table
/*
        
        harr = []


        // frenchdeck = ["AC", "AD", "AH", "AS", "KC", "KD", "KH" etc. all the way to "2S"

        // straights = ["A32", "432", "543", "654", "765", "876", "987", "T98", "JT9", "QJT", "KQT", "AKQ"]
        for(a = 0; a < 52; a++){
            for(b = a + 1; b < 52; b++){
                for(c = b + 1; c < 52; c++){
                    for(c = 0; d < 52; c++){
                        for(e = d + 1; e < 52; e++){
                            for(f = e + 1; f < 52; f++){
                                arr = [a, b, c, d, e, f].map(x => frenchdeck[x])
                                if(Array.from([...new Set(arr)].length == 6){ //making sure all cards are different
                                    if((a[1] == b[1] && b[1] == c[1]) && straights.includes(a[0] + b[0] + c[0])){
                                        instancearray.push([
                                            [a, b, c],
                                            [d, e, f]
                                        ])
                                    }
                                }
                            }   
                        }
                    }
                }
            }
        }
        return instancearray
*/

/*
side bet


(57798 * 2 / 270725) + ((82251 + 118807) * -1 / 270725) + (11154 * 4 / 270725) + (715 * 30 / 270725) = -0.07164465786 house edge

larr = []
for(a = 0; a < 52; a++){
            for(b = a + 1; b < 52; b++){
                for(c = b + 1; c < 52; c++){
                    for(d = c + 1; d < 52; d++){
                        larr.push(frenchdeck[a][1] + frenchdeck[b][1] + frenchdeck[c][1] + frenchdeck[d][1])
                    }}}}
        */
    </script>
</html>