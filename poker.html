<html>
    <!--
        TODO
        Add Rebet
    -->
    <head>
        <meta name="description" content="Educational Casino Website">
        <title>Harris' Casino</title>
        <style>
            body{
                background-image: url("Felt.jpg");
                background-size: cover;
            }
            .putchipshere{
                background-color: #00000033;
               /* background-color: #146b36;*/
                border: orange 3px solid;
                color: orange;
                height: 100px;
                width: 100px;
                border-radius: 100%;
                font-size: 15px;
                margin-left: 12px;
                cursor: pointer;
                margin-right: 12px;
            }
            .putchipshere:hover{
                font-weight: 700;
            }
            #ante, #antebonus_table, #tie, #tie_table, #play2, #play, #play1{
                border: orange 3px solid;
                color: orange;
            }
            #sixcardbonus, #sixcardbonus_table, #player, #player_table, #pocketbonus_table{
                border: fuchsia 3px solid;
                color: fuchsia;
            }
            #pairplus, #pairplus_table, #banker, #banker_table, #big8, #big8_table, #miamiclubs_table, #miamiclubs, #queensup, #queensup_table, #acesup, #acesup_table{
                border: cyan 3px solid;
                color: cyan;
            }
            #anybbq, #smallplayerbbq, #bigplayerbbq, #smallbankerbbq, #bigbankerbbq, #bbqtable, #progressivejackpot, #progressivejackpot_table{
                border: orangered 3px solid;
                color: orangered;
            }
            .diamondbutton{
                transform: rotate(45deg);
                border-radius: 0px !important;
                width: 85px !important;
                height: 85px !important;
                margin-left: 25px !important;
                margin-right: 25px !important;
            }
            .diamondbutton div{
                transform: rotate(-45deg);
            }
            .gray{
                background-color: #00000033;
                border: #bbb 3px solid !important;
                color: #bbb !important;
                height: 100px;
                width: 100px;
                border-radius: 100%;
                font-size: 14px;
                margin-left: 12px;
                margin-right: 12px;
                cursor: not-allowed;
            }
            .gray:active{
                color: #bbb;
                background-color: transparent !important;
            }
            .putchipshere:active{
                color: black !important;
            }
            #ante:active, #tie:active, #play2:active, #play:active, #play1:active{
                background-color: orange;
            }
            #pairplus:active, #banker:active, #big8:active, #miamiclubs:active, #queensup:active, #acesup:active{
                background-color: cyan;
            }
            #sixcardbonus:active, #player:active{
                background-color: fuchsia;
            }
            #anybbq:active, #smallplayerbbq:active, #bigplayerbbq:active, #smallbankerbbq:active, #bigbankerbbq:active, #progressivejackpot:active{
                background-color: orangered;
            }
            #gametitle{
                width: 70%;
                margin-left: 15%;
                margin-right: 15%;
                text-align: center;
                font-family: Verdana;
                font-size: 36px;
                border: orange 0px solid;
                outline: 0px;
                color: orange;
                background-color: transparent;
            }
            #progressspan{
                font-family: Verdana;
                font-size: 18px;
                color: orangered;
                background-color: #00000033;
            }
            #progress{
                margin-top: 0px;
            }
            select{
                color: black;
                background-color: #146b36;
                border: white 1px solid;
                outline: none;
                cursor: pointer;
            }
            #buttonp, #chipp{
                text-align: center;
                font-family: Verdana;
                font-size: 48px;
                margin-top: 0px;
                margin-bottom: 0px;
            }
            .settings{
                margin-top: 0px;
                text-align: center;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            #playershand1, #dealershand, #playershand{
                width: 100%;
                color: white;
                font-family: Verdana;
                text-align: center;
            }
            .bigwidth{
                width: 100%;
                float: left;
                text-align: center;
                margin-bottom: 15px;

                display: flex;
                justify-content: center;
                align-items: center;
            }
            th{
                font-weight: 400;
            }
            #playershand2, #playershand3, #playershand4{
                font-family: Verdana;
                text-align: center;   
            }
            button{
                font-size: 22px;
                border: none;
                border-radius: 20px;
                color: black;
            }
            #currencymark1{
                color: white;
            }
            #left{
                display: none;
                width: 25%;
                float: left;
            }
            #right{
                display: none;
                width: 75%;
                float: left;
                text-align: center;
                font-size: 100px;
                margin: 0px;
            }
            #right p{
                margin: 0px;
            }
            #dealerspeech, .playerspeech{
                font-size: 24px;
                color: white;
                font-family: Verdana;
            }
            .playerspeech{
                text-decoration: underline;
                text-decoration-style: dashed;
            }
            .chip{
                height: 60px;
                width: 60px;
                border-radius: 100%;
                border: 4px black solid;
                text-align: center;
                font-size: 18px;
                cursor: pointer;
            }
            .chip:hover{
                background-color: gold !important;
                color: black !important;
                font-weight: 700;
            }
            .button{
                height: 70px;
                width: 150px;
                border: 2px white solid;
                text-align: center;
                background-color: transparent;
                color: white;
                font-weight: 700;
                border-radius: 40px;
                cursor: pointer;
            }
            #chip_deal{
                cursor: not-allowed;
            }
            .letsdeal{
                background-color: orange;
                cursor: pointer !important;
            }
            .button:active{
                color: white;
            }
            #chip_1{
                background-color: #fff;
            }
            #chip_5{
                background-color: #660001;
                color: white;
            }
            #chip_25{
                background-color: greenyellow;
                color: black;
            }
            #chip_100{
                background-color: #222;
                color: white;
            }
            #chip_500{
                background-color: #69008c;
                color: white;
            }
            #setting div{
                float: left;
                margin-right: 4px;
            }
            #setting{
                display: inline-block;
            }
            .center{
                height: 75%;
            }
            table{
                color: orange;
                font-family: Verdana;
                border: 3px solid orange;
                margin-top: 1vh;
                font-size: 12px;
                background-color: #00000033;
            }
            caption{
                background-color: #00000033;
                font-weight: 700;
            }
            #mycash{
                font-family: "Verdana";
                font-size: 28px;
                color: orange;
            }
            #mygains{
                font-family: "Verdana";
                font-size: 18px;
                color: orange;
            }
            .acard{
                color: black;
                background-color: white;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 4px;
            }
            .greenacard{
                color: black;
                background-color: /*#146b36*/ transparent;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 2px;
            }
            .ared{
                color: red;
                background-color: white;
                font-size: 34px;
                margin: 5px;
                height: 90px;
                width: 55px;
                text-align: center;
                border-radius: 2px;
            }
            table select{
                font-size: 12px;
                border-width: 0px;
                color: inherit;
                font-family: Verdana;
                font-weight: 400;
                background-color: transparent;
            }
            #menu{
                font-family: Verdana;
            }
            .menubutton{
                color: white;
                font-size: 40px;
                background-color: #146b36;
                border: 5px solid white;
                margin: 5px;
            }
            .menubutton:hover{
                color: #146b36;
                background-color: white;
            }
            .welcomemenu{
                color: white;
                font-size: 48px;
                margin-left: 10%;
                margin-right: 10%;
                text-align: center;
                margin-bottom: 10px;
            }
            h4{
                color: white;
                font-size: 24px;
            }
            #contacttext{
                color: white;
                font-size: 22px;
                margin-left: 8%;
                margin-right: 8%; 
            }
            #contacttext a{
                color: white;
                font-weight: 700;
            }
            #mode{
                cursor: pointer;
                font-size: 18px;
                text-align: center;
                color: orange;
                font-family: Verdana;
                text-decoration: underline dotted;
            }

        </style>
    </head>
    <body>
        <div id="menu">
            <p class="welcomemenu">Welcome to my online casino simulator!</p>
            <p class="welcomemenu" style="font-size: 160%; margin-top: 0px;">What game would you like to play today?</p>
            <hr>
        <!-- 
            <h4>Blackjack and Variants</h4>
            <button onclick="menuize('blackjack')" class="menubutton">Blackjack</button>
            <button onclick="menuize('blackjack-switch')" class="menubutton">Blackjack Switch</button>
            <button onclick="menuize('blackjack-double')" class="menubutton">Double 4 More Blackjack</button>
            <button onclick="menuize('blackjack-down')" class="menubutton">Down Under Blackjack</button>
            <button onclick="menuize('blackjack-freebet')" class="menubutton">Freebet Blackjack</button>
            <button onclick="menuize('blackjack-zappit')" class="menubutton">Zappit</button>
         -->
        
            <h4>Poker-Based Games</h4>
            <!-- <button onclick="menuize('caribbean')" class="menubutton">Caribbean Stud Poker</button> -->
            <button onclick="menuize('Crazy 4 Poker')" class="menubutton">Crazy 4 Poker</button>
            <!-- <button onclick="menuize('crisscrosspoker')" class="menubutton">Criss Cross Poker</button>
            <button onclick="menuize('dakota')" class="menubutton">Dakota Duel Draw</button>
            <button onclick="menuize('djwild')" class="menubutton">DJ Wild</button>
            <button onclick="menuize('doubledraw')" class="menubutton">Double Draw Poker</button> -->
            <button onclick="menuize('Four Card Poker')" class="menubutton">Four Card Poker</button>
            <!-- <button onclick="menuize('headsup')" class="menubutton">Heads Up Hold'Em</button>
            <button onclick="menuize('jackpot')" class="menubutton">Jackpot Hold'Em</button>
            <button onclick="menuize('letitride')" class="menubutton">Let It Ride</button>
            <button onclick="menuize('mississippi')" class="menubutton">Mississippi Stud</button>
            <button onclick="menuize('texasbonus')" class="menubutton">Texas Hold'Em Bonus</button> -->
            <button onclick="menuize('Three Card Poker')" class="menubutton">Three Card Poker</button>
            <!-- <button onclick="menuize('texas')" class="menubutton">Ultimate Texas Hold'Em</button> -->
        <!--   <h4>"Video Poker"-Based Games</h4> --> 
        <!--    <h4>Non-Standard Poker Games</h4> -->
            <h4>Baccarat Variants</h4>
            <button onclick="menuize('Baccarat')" class="menubutton">Baccarat</button>
            <button onclick="menuize('BBQ Baccarat')" class="menubutton">BBQ Baccarat</button>
            <button onclick="menuize('EZ Baccarat')" class="menubutton">EZ Baccarat</button>
            <button onclick="menuize('Nepal Baccarat')" class="menubutton">Nepal Baccarat</button>
            <!-- <h4>Dice Games</h4>
            <button onclick="menuize('Crapless Craps')" class="menubutton">Crapless Craps</button>
            <button onclick="menuize('Craps')" class="menubutton">Craps</button>
            <button onclick="menuize('Sic Bo')" class="menubutton">Sic Bo</button>
            <h4>Pai Gow Games</h4>
            <button onclick="menuize('fivepaigow')" class="menubutton">Five Card Pai Gow</button>
            <button onclick="menuize('paigowpoker')" class="menubutton">Pai Gow Poker</button>
            <h4>Other Games</h4>
            <button onclick="menuize('war')" class="menubutton">Casino War</button>
            <button onclick="menuize('knockout')" class="menubutton">Knockout 52</button> -->
            <p id="contacttext">The goal of the website is to teach people the rules and strategies of various casino games, as well as to help train casino dealers into learning the correct rules and payouts of various table games. If you have any questions or suggestions please email me at <a href="mailto:harrismowbray@yahoo.com?subject=Casino%20Website">harrismowbray@yahoo.com</a>.</p>
        </div>
        <div id="left"></div>
        <div id="right">
            <select id="gametitle" onchange="changegame()">
                <option value="BBQ Baccarat">BBQ Baccarat</option>
                <option value="Crazy 4 Poker">Crazy 4 Poker</option>
                <option value="Dakota Duel Draw">Dakota Duel Draw</option>
                <option value="EZ Baccarat">EZ Baccarat</option>
                <option value="Four Card Poker">Four Card Poker</option>
                <option value="Miami Four Card">Miami Four Card</option>
                <option value="Midi Baccarat">Midi Baccarat</option>
                <option value="Nepal Baccarat">Nepal Baccarat</option>
                <option selected value="Three Card Poker">Three Card Poker</option>
            </select>
            <p><span id="mode" onclick="changemode()">Player Mode</span></p>
            <div id="dealershand" class="bigwidth"></div>
            <div class="bigwidth" id="mybids"></div>
            <div class="bigwidth" id="mybids2"></div>
            <div class="bigwidth" id="playershand"> </div>
            <div class="bigwidth">
                <p id="chipp">
                    <button class="chip" id="chip_1" onclick="betamount(1)">$1</button>
                    <button class="chip" id="chip_5" onclick="betamount(5)">$5</button>
                    <button class="chip" id="chip_25" onclick="betamount(25)">$25</button>
                    <button class="chip" id="chip_100" onclick="betamount(100)">$100</button>
                    <button class="chip" id="chip_500" onclick="betamount(500)">$500</button>
                </p>
            </div>
            <div class="bigwidth">
                <p id="buttonp">
                    <button class="button" id="chip_deal" onclick="letsplay()">DEAL</button>
                </p>
            </div>
            <div class="bigwidth" style="margin: 0px">
                <p id="mycash">$<span id="cash">100,000</span></p>
            </div>
            <div class="bigwidth">
                <p id="mygains"></p>
            </div>

        </div>
        <div id="bottom"></div>
    </body>
    <script>

        mymode = "Player"

        function changemode(){
            if(mode.textContent == "Player Mode"){
                document.body.style.backgroundImage = "url('Purple.jpg')"
                mode.textContent = "Dealer Mode"
                mymode = "Dealer" 
                bets = {
                    ante: 25,
                    play: 25,
                    pairplus: 25,
                    sixcardbonus: 25,
                    progressivejackpot: 1,
                }
                letsplay()
                play()
            }
            else{
                money = 100000
                document.body.style.backgroundImage = "url('Felt.jpg')"
                mode.textContent = "Player Mode"
                mymode = "Player"
                startOver()
            }
            changegame()
        }

        function cardFormat(arr){
            newarr = []
            for(x of arr){
                if(x == "Green") newarr.push(`<button class="greenacard"></button>`) 
                else newarr.push(`<button class="${"SC".includes(x[1]) ? `acard` : `ared`}">${x[0] == "T" ? 10 : (x[0] ?? "")}<br>${{C: '♣',D: '♦',H: '♥',S: '♠', "undefined": ""}[x[1]]}</button>`)
            }
            return newarr.join("")
        }

        const now = new Date();
        const secondsSinceMidnight =
            now.getHours() * 3600 +
            now.getMinutes() * 60 +
            now.getSeconds();
            
        myjackpot = 10000 + (secondsSinceMidnight)
        function updateSecondsSinceMidnight() {
            myjackpot += 1
            if(document.getElementById("jackpot") != undefined) jackpot.textContent = "$" + Intl.NumberFormat('en-US').format(myjackpot)
        }

        // Initial call
        updateSecondsSinceMidnight()
        // Update every second
        setInterval(updateSecondsSinceMidnight, 1000)


        game = ""
        frenchdeck = []
        //frenchdeck = Array.from("🂡🂱🃁🃑🂮🂾🃎🃞🂭🂽🃍🃝🂫🂻🃋🃛🂪🂺🃊🃚🂩🂹🃉🃙🂨🂸🃈🃘🂧🂷🃇🃗🂦🂶🃆🃖🂥🂵🃅🃕🂤🂴🃄🃔🂣🂳🃃🃓🂢🂲🃂🃒")
        for(x = 0; x < 52; x++) frenchdeck.push("AKQJT98765432"[Math.floor(x / 4)] + "SHDC"[x % 4])
        unorder = "23456789TJQKA"
        bets = {}
        payouts = {}
        money = 100000
        amount = 0
        sidebets = ["PairPlus", "Six Card Bonus", "Big 8", "Progressive Jackpot", "Queens Up", "Aces Up"].map(x => x.replace(/ /g, "").toLowerCase())

        function betamount(num){
            if(amount != 0) document.getElementById("chip_" + amount).style.borderColor = "black"
            amount = num
            document.getElementById("chip_" + num).style.borderColor = "gold"
        }
        function increase(thebet){
            if(mymode == "Player"){
                if(!document.getElementById(thebet).classList.value.includes("gray")){
                    if(amount > 0 && !sidebets.includes(thebet)){
                        mygains.innerHTML = ""
                        defaultcards()
                        chip_deal.classList.add("letsdeal")
                    }
                    if(!bets[thebet]) bets[thebet] = 0

                    theaddition = amount
                    if(thebet.includes("ressive")){
                        if(bets[thebet] == 1) theaddition = 0
                        else theaddition = 1
                    }
                    bets[thebet] += theaddition
                    money -= theaddition

                    if(thebet == "ante" && game == "Crazy 4 Poker"){
                        money -= theaddition
                        superbonus_cost.textContent = bets[thebet]
                    }

                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    document.getElementById(thebet + "_cost").textContent = bets[thebet]
                }
            }
            else if(mymode == "Dealer"){
                payouts[thebet] = payouts[thebet] == undefined ? amount : (payouts[thebet] + amount)
                document.getElementById(thebet + "_pay").textContent = payouts[thebet]
            }
        }
        function decrease(thebet){
            if(!document.getElementById(thebet).classList.value.includes("gray") && mymode == "Player"){
                mygains.innerHTML = ""
                if(!sidebets.includes(thebet)) chip_deal.classList.remove("letsdeal")
                if(bets[thebet] != undefined) money += bets[thebet]
                bets[thebet] = 0
                document.getElementById(thebet + "_cost").textContent = bets[thebet]
                if(game == "Crazy 4 Poker" && thebet == ante){
                    money += bets[thebet]
                    bets.superbonus = 0
                    superbonus_cost.textContent = 0
                }
                cash.textContent = Intl.NumberFormat('en-US').format(money)
            }
        }
        function defaultcards(){
            if(game == "Three Card Poker") playershand.innerHTML = dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            else if(game == "Crazy 4 Poker") playershand.innerHTML = dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            else if(game == "Four Card Poker"){
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`   
            }
            else if(game.includes("Baccarat")){
                playershand.innerHTML = ``
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="greenacard"><button class="acard"></button><button class="acard"></button>`
            }
            else if(game == "Dakota Duel Draw"){
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="greenacard"><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
            }
            else if(game == "Miami Four Card"){
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                playershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`   
            }
        }
        function shuffle(array) {
            for (i = array.length - 1; i > 0; i--) {
                j = Math.floor(Math.random() * (i + 1))
                b = array[i]
                c = array[j]
                array[j] = b
                array[i] = c
            }
            return array
        }
        function letsplay(){
            newdeck = shuffle(frenchdeck)
            if(game == "Three Card Poker" && (bets.ante != undefined || mymode == "Dealer")){
                shadowbutton("ante")
                shadowbutton("pairplus")
                shadowbutton("sixcardbonus")
                shadowbutton("progressivejackpot")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2]]), 300)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game == "Crazy 4 Poker" && bets.ante != undefined){
                shadowbutton("ante")
                shadowbutton("superbonus")
                shadowbutton("queensup")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", "", "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "", "", ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "", ""]), 300)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], ""]), 400)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], newdeck[4]]), 500)

                prez = Math.max(...getCombinations(newdeck.slice(0, 5), 4).map(x => evalfour(x)))
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>${prez >= 1004820 ? (` <button class="button letsdeal" onclick="play(3)">Play x3</button>`) : ``}`
            }
            else if(game == "Four Card Poker" && bets.ante != undefined){
                shadowbutton("ante")
                shadowbutton("acesup")
                dealershand.innerHTML = cardFormat(["", "", "", "", "", ""])
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], "", "", "", ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "", "", ""]), 200)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "", ""]), 300)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], ""]), 400)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], newdeck[3], newdeck[4]]), 500)
                setTimeout(() => dealershand.innerHTML = cardFormat(["", "", "", "", "", newdeck[10]]), 600)
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button> <button class="button letsdeal" onclick="play(3)">Play x3</button>`
            }
            else if(game == "Miami Four Card" && bets.ante != undefined){
                shadowbutton("ante")
                shadowbutton("miamiclubs")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                //playershand.innerHTML = [newdeck[0], newdeck[1], ""])
                //playershand.innerHTML = [newdeck[0], newdeck[1], newdeck[2]])
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game == "Dakota Duel Draw" && bets.play2 != undefined){
                shadowbutton("play2")
                shadowbutton("big8")
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], ""]), 100)
                setTimeout(() => playershand.innerHTML = cardFormat([newdeck[0], newdeck[1]]), 200)
                dealershand.innerHTML = `<button class="acard"></button><button class="acard"></button><button class="acard"></button><button class="greenacard"></button><button class="acard"></button><button class="acard"></button><button class="acard"></button>`
                buttonp.innerHTML = `<button class="button letsdeal" onclick="play('fold')">Fold</button> <button class="button letsdeal" onclick="play(1)">Play</button>`
            }
            else if(game.includes("Baccarat") && Object.values(bets).length > 0){
                shadowbutton("banker")
                shadowbutton("player")
                shadowbutton("tie")
                if(game == "BBQ Baccarat"){
                    shadowbutton("anybbq")
                    shadowbutton("smallplayerbbq")
                    shadowbutton("bigplayerbbq")
                    shadowbutton("smallbankerbbq")
                    shadowbutton("bigbankerbbq")
                }
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], "", "Green", "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", "", ""]), 300)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", newdeck[3], ""]), 500)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green",  newdeck[3], newdeck[4]]), 700)
                prez = evalbaccarat(newdeck.slice(0, 2))
                brez = evalbaccarat(newdeck.slice(3, 5))

                if("89".includes(prez[0]) || "89".includes(brez[0])){
                    setTimeout(payThePayout, 1000)
                }
                else if(prez[0] < 6){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4]]), 1000)
                    prez = evalbaccarat(newdeck.slice(0, 3))
                    if(
                        (brez[0] <= 2) ||
                        (brez[0] == 3 && newdeck[2][0] != "8") ||
                        (brez[0] == 4 && "234567".includes(newdeck[2][0])) ||
                        (brez[0] == 5 && "4567".includes(newdeck[2][0])) ||
                        (brez[0] == 6 && "67".includes(newdeck[2][0]))
                    ){
                        setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], newdeck[2], "Green", newdeck[3], newdeck[4], newdeck[5]]), 1300)
                        brez = evalbaccarat(newdeck.slice(3, 6))
                    }
                }
                else if(brez[0] < 6){
                    setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[0], newdeck[1], "Green", newdeck[3], newdeck[4], newdeck[5]]), 1000)
                    brez = evalbaccarat(newdeck.slice(3, 6))
                }
                if(mymode == "Player") setTimeout(payThePayout, 1400)
                else alert('bruh')

            }
        }

        function evalbaccarat(arr){
            return [arr.map(x => isNaN(x[0]) ? {T: 10, A: 1, Q: 10, J: 10, K: 10}[x[0]]: +x[0]).reduce((a, c) => a + c, 0) % 10, arr.length]
        }
        

        nofold = false
        function play(multiplier){
            nofold = multiplier == "fold" ? false : true
            if(game == "Three Card Poker"){
                if(nofold && mymode == "Player"){
                    money -= bets.ante
                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    play_cost.textContent = bets.ante
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], newdeck[4], ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[3], newdeck[4], newdeck[5]]), 300)            
                prez = evalthree(newdeck.slice(0, 3))
                drez = evalthree(newdeck.slice(3, 6))
                srez = evalfivemany(newdeck.slice(0, 6))
            }
            else if(game == "Crazy 4 Poker"){
                if(nofold){
                    bets.play = bets.ante * multiplier
                    money -= bets.play
                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    play_cost.textContent = bets.play
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], "", "", "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], "", "", ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], "", ""]), 300)   
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], ""]), 400)            
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], newdeck[9]]), 500)                     
                drez = Math.max(...getCombinations(newdeck.slice(5, 10), 4).map(x => evalfour(x)))
            }
            else if(game == "Four Card Poker"){
                if(nofold){
                    bets.play = bets.ante * multiplier
                    money -= bets.play
                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    play_cost.textContent = bets.play
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], "", "", "", "", newdeck[10]]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], "", "", "", newdeck[10]]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], "", "", newdeck[10]]), 300)   
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], "", newdeck[10]]), 400)            
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[5], newdeck[6], newdeck[7], newdeck[8], newdeck[9], newdeck[10]]), 500)      
                prez = Math.max(...getCombinations(newdeck.slice(0, 5), 4).map(x => evalfour(x)))               
                drez = Math.max(...getCombinations(newdeck.slice(5, 11), 4).map(x => evalfour(x)))
            }
            else if(game == "Miami Four Card"){
                if(nofold){
                    money -= (bets.ante * 2)
                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    play_cost.textContent = (bets.ante * 2)
                }


                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3]]), 200)
                prez = Math.max(...getCombinations(newdeck, 3).map(x => evalthree(x)))
                crez = (newdeck[0][1] + newdeck[1][1] + newdeck[2][1] + newdeck[3][1]).split("C").length - 1
            }
            else if(game == "Dakota Duel Draw"){
                if(nofold){
                    money -= bets.play2
                    cash.textContent = Intl.NumberFormat('en-US').format(money)
                    play2_cost.textContent = bets.play2
                }

                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], "", "", "Green", newdeck[5], "", ""]), 100)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], "", "Green", newdeck[5], newdeck[6], ""]), 200)
                setTimeout(() => dealershand.innerHTML = cardFormat([newdeck[2], newdeck[3], newdeck[4], "Green", newdeck[5], newdeck[6], newdeck[7]]), 300)
                frez = evalfive(newdeck.slice(0, 5))
                erez = evalfivemany(newdeck.slice(0, 8))
                prez = evalthree(newdeck.slice(0, 2))
                srez = evalfive([...newdeck.slice(0, 2), ...newdeck.slice(5, 8)])
            }

            //antebonus
            setTimeout(payThePayout, 500)
        }



        function payThePayout(){
            money += Object.values(PAYOUT()).reduce((a, b) => a + b, 0)
            cash.textContent = Intl.NumberFormat('en-US').format(money)
        }

        function PAYOUT(){
            payobj = {}
            gainsarray = []

            if(game == "Three Card Poker"){

                if(nofold){
                    if(drez < 4020){
                        payobj.ante = bets.ante * 3
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante * 3))
                    }
                    else if(drez == prez){
                        payobj.ante = bets.ante * 2
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante * 2))
                    }
                    else if(drez > prez){
                        payobj.ante = 0
                        gainsarray.push("Ante: Lost")
                    }
                    else if(drez < prez){
                        payobj.ante = bets.ante * 4
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante * 4))
                    }
                    gainsarray.push("Ante:" + bets.ante > 0  ? ("+$" + Intl.NumberFormat('en-US').format(payobj.ante)) : "Lost")
                }

                achievement = ""

                if(prez >= 50000) achievement = "Straight Flush"
                else if(prez >= 40000) achievement = "Three of a Kind"
                else if(prez >= 30000) achievement = "Straight"

                if(achievement != ""){
                    payobj.ante += (payouts[game]["Ante Bonus"][antebonus_tables.value][achievement] + 1)
                    gainsarray.push(`Ante Bonus: +$` + Intl.NumberFormat('en-US').format(bets.ante * (payouts[game]["Ante Bonus"][antebonus_tables.value][achievement] + 1)))
                }


                //pairplus
                if(bets.pairplus != undefined){
                    achievement = ""
                    if(prez >= 50000){
                        achievement = "Straight Flush"
                    }
                    else if(prez >= 40000){
                        achievement = "Three of a Kind"
                    }
                    else if(prez >= 30000){
                        achievement = "Straight"
                    }
                    else if(prez >= 20000){
                        achievement = "Flush"
                    }
                    else if(prez >= 10000){
                        achievement = "Pair"
                    }
                    if(achievement != ""){
                        payobj.pairplus = bets.pairplus * (payouts[game]["PairPlus"][pairplus_tables.value][achievement] + 1)
                        gainsarray.push(`PairPlus: +$` + Intl.NumberFormat('en-US').format(bets.pairplus * (payouts[game]["PairPlus"][pairplus_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj.pairplus = 0
                        gainsarray.push(`PairPlus: Lost`)
                    }
                }


                if(bets.sixcardbonus != undefined){
                    achievement = ""
                    if(srez >= 90000000) achievement = "Royal Flush"
                    else if(srez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(srez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(srez >= 60000000){
                        achievement = "Full House"
                    }
                    else if(srez >= 50000000){
                        achievement = "Flush"
                    }
                    else if(srez >= 40000000){
                        achievement = "Straight"
                    }
                    else if(srez >= 30000000){
                        achievement = "Three of a Kind"
                    }

                    if(achievement != ""){
                        payobj.sixcardbonus = bets.sixcardbonus * (payouts[game]["Six Card Bonus"][sixcardbonus_tables.value][achievement] + 1)
                        gainsarray.push(`Six Card Bonus: +$` + Intl.NumberFormat('en-US').format(bets.sixcardbonus * (payouts[game]["Six Card Bonus"][sixcardbonus_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj.sixcardbonus = 0
                        gainsarray.push(`Six Card Bonus: Lost`)
                    }
                }


                //progressive
                if(bets.progressivejackpot != undefined){
                    achievement = ""
                    if(prez >= 70000){
                        achievement = "Spade Mini Royal"
                    }
                    else if(prez >= 60000){
                        achievement = "Mini Royal"
                    }
                    else if(prez >= 50000){
                        achievement = "Straight Flush"
                    }
                    else if(prez >= 40000 && progressivejackpot_tables.value == 1){
                        achievement = "Three of a Kind"
                    }

                    if(achievement != ""){
                        whatIearn = 0
                        whatIearn = payouts[game]["Progressive Jackpot"][progressivejackpot_tables.value][achievement]
                        if((whatIearn).startsWith("J")){
                            amo = +whatIearn.split("J")[1]
                            whatIearn = myjackpot * (amo / 100)
                            myjackpot -= whatIearn
                        }
                        else if(whatIearn.endsWith("S")){
                            whatIearn = +(whatIearn.slice(0, -1))
                        }
                        if(myjackpot < 5000) myjackpot = 5000
                        payobj.progressivejackpot = whatIearn
                        gainsarray.push(`Progressive Jackpot: +$` + Intl.NumberFormat('en-US').format(whatIearn))
                    }
                    else{
                        payobj.progressivejackpot = 0
                        gainsarray.push(`Progressive Jackpot: Lost`)
                    }
                }

            }
            if(game == "Crazy 4 Poker"){

                if(nofold){
                    if(drez < 88820){ //king high
                        payobj.ante = (bets.ante + (bets.play * 2))
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante))
                        gainsarray.push("Play: +$" + Intl.NumberFormat('en-US').format(bets.play * 2))
                    }
                    else if(drez == prez){
                        payobj.ante += (bets.ante + bets.play)
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante))
                        gainsarray.push("Play: +$" + Intl.NumberFormat('en-US').format(bets.play))
                    }
                    else if(drez > prez){
                        payobj.ante = 0
                        gainsarray.push("Ante: Lost")
                        gainsarray.push("Play: Lost")
                    }
                    else if(drez < prez){
                        payobj.ante = ((bets.ante * 2) + (bets.play * 2))
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante * 2))
                        gainsarray.push("Play: +$" + Intl.NumberFormat('en-US').format(bets.play * 2))
                    }
                }

                achievement = ""
                if(prez == 7000012) achievement = "Four Aces"
                else if(prez >= 7000000) achievement = "Four of a Kind"
                else if(prez >= 6000000) achievement = "Straight Flush"
                else if(prez >= 5000000) achievement = "Three of a Kind"
                else if(prez >= 4000000) achievement = "Flush"
                else if(prez >= 3000000) achievement = "Straight"

                if(achievement != ""){
                    payobj.superbonus += bets.ante * (payouts[game]["Super Bonus"][0][achievement] + 1)
                    gainsarray.push(`Super Bonus: +$` + Intl.NumberFormat('en-US').format(bets.ante * (payouts[game]["Super Bonus"][0][achievement] + 1)))
                }
                else if(achievement == "" && (drez < 88820 || prez > drez)){
                    payobj.superbonus = bets.ante
                    gainsarray.push(`Super Bonus: +$` + Intl.NumberFormat('en-US').format(bets.ante))   
                }
                else{
                    payobj.superbonus = 0
                    gainsarray.push(`Super Bonus: Lost`)
                }


                if(bets.queensup != undefined){
                    achievement = ""
                    if(prez >= 7000000) achievement = "Four of a Kind"
                    else if(prez >= 6000000) achievement = "Straight Flush"
                    else if(prez >= 5000000) achievement = "Three of a Kind"
                    else if(prez >= 4000000) achievement = "Flush"
                    else if(prez >= 3000000) achievement = "Straight"
                    else if(prez >= 2000000) achievement = "Two Pair"
                    else if(prez >= 1004020) achievement = "Queens or Better"

                    if(achievement != ""){
                        payobj.queensup = bets.queensup * (payouts[game]["Queens Up"][queensup_tables.value][achievement] + 1)
                        gainsarray.push(`Queens Up: +$` + Intl.NumberFormat('en-US').format(bets.queensup * (payouts[game]["Queens Up"][queensup_tables.value][achievement] + 1)))
                    }
                    else{
                        payobj.queensup = 0
                        gainsarray.push(`Queens Up: Lost`)
                    }
                }


                //progressive
                if(bets.progressivejackpot != undefined){
                    achievement = ""
                    if(prez >= 70000){
                        achievement = "Spade Mini Royal"
                    }
                    else if(prez >= 60000){
                        achievement = "Mini Royal"
                    }
                    else if(prez >= 50000){
                        achievement = "Straight Flush"
                    }
                    else if(prez >= 40000 && progressivejackpot_tables.value == 1){
                        achievement = "Three of a Kind"
                    }

                    if(achievement != ""){
                        whatIearn = 0
                        whatIearn = payouts[game]["Progressive Jackpot"][progressivejackpot_tables.value][achievement]
                        if((whatIearn).startsWith("J")){
                            amo = +whatIearn.split("J")[1]
                            whatIearn = myjackpot * (amo / 100)
                            myjackpot -= whatIearn
                        }
                        else if(whatIearn.endsWith("S")){
                            whatIearn = +(whatIearn.slice(0, -1))
                        }
                        if(myjackpot < 5000) myjackpot = 5000
                        payobj.progressivejackpot = whatIearn
                        gainsarray.push(`Progressive Jackpot: +$` + Intl.NumberFormat('en-US').format(whatIearn))
                    }
                    else{
                        payobj.progressivejackpot = 0
                        gainsarray.push(`Progressive Jackpot: Lost`)
                    }
                }

            }
            if(game == "Four Card Poker"){

                if(nofold){
                    if(drez == prez){
                        money += (bets.ante + bets.play)
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante))
                        gainsarray.push("Play: +$" + Intl.NumberFormat('en-US').format(bets.play))
                    }
                    else if(drez > prez){
                        gainsarray.push("Ante: Lost")
                        gainsarray.push("Play: Lost")
                    }
                    else if(drez < prez){
                        money += ((bets.ante * 2) + (bets.play * 2))
                        gainsarray.push("Ante: +$" + Intl.NumberFormat('en-US').format(bets.ante * 2))
                        gainsarray.push("Play: +$" + Intl.NumberFormat('en-US').format(bets.play * 2))
                    }
                }

                achievement = ""
                if(prez == 7000012) achievement = "Four Aces"
                else if(prez >= 7000000) achievement = "Four of a Kind"
                else if(prez >= 6000000) achievement = "Straight Flush"
                else if(prez >= 5000000) achievement = "Three of a Kind"
                else if(prez >= 4000000) achievement = "Flush"
                else if(prez >= 3000000) achievement = "Straight"

                if(achievement != ""){
                    payobj.acesup = bets.acesup * (payouts[game]["Aces Up"][acesup_tables.value][achievement] + 1)
                    gainsarray.push(`Aces Up: +$` + Intl.NumberFormat('en-US').format(bets.acesup * (payouts[game]["Aces Up"][acesup_tables.value][achievement] + 1)))
                }
                else{
                    payobj.acesup = 0
                    gainsarray.push(`Aces Up: Lost`)
                }
            }
            else if(game == "Dakota Duel Draw"){

                if(nofold){
                    for(twonums = 1; twonums < 3; twonums++){
                        achievement = ""
                        trez = (twonums == 1 ? frez : srez)
                        if(bets.play2 != undefined){
                            if(trez >= 90000000) achievement = "Royal Flush"
                            else if(trez >= 80000000) achievement = "Straight Flush"
                            else if(trez >= 70000000) achievement = "Four of a Kind"
                            else if(trez >= 60000000) achievement = "Full House"
                            else if(trez >= 50000000) achievement = "Flush"
                            else if(trez >= 40000000) achievement = "Straight"
                            else if(trez >= 30000000) achievement = "Three of a Kind"
                            else if(trez >= 20000000) achievement = "Two Pair"
                            else if(trez >= 10056820) achievement = "Nines or Better"
                        }
                        if(achievement != ""){
                            payobj["play" + twonums] = bets["play" + twonums] * (payouts[game]["Plays"][0][achievement] + 1)
                            gainsarray.push(`Play ${twonums}: +$` + Intl.NumberFormat('en-US').format(bets.play2 * (payouts[game].Plays[0][achievement] + 1)))
                        }
                        else{
                            payobj["play" + twonums] = 0
                            gainsarray.push(`Play ${twonums}: Lost`)
                        }
                    }
                }

                achievement = ""

                if(pocketbonus_tables.value == 0){
                    if(prez >= 10140){
                        payobj.play2 += bets.play2 * 9
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 9))
                    }
                }
                else if(pocketbonus_tables.value == 1){
                    if(prez == 10240){
                        payobj.play2 += bets.play2 * 20
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 20))
                    }
                    else if(prez == 10220){
                        payobj.play2 += bets.play2 * 10
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 10))
                    }
                    else if(prez >= 10140){
                        payobj.play2 += bets.play2 * 4
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 4))
                    }
                }
                else if(pocketbonus_tables.value == 2){
                    if(prez == 10240){
                        payobj.play2 += bets.play2 * 20
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 20))
                    }
                    else if(prez == 10220){
                        payobj.play2 += bets.play2 * 10
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 10))
                    }
                    else if(prez == 10200){
                        payobj.play2 += bets.play2 * 8
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 8))
                    }
                    else if(prez >= 10140){
                        payobj.play2 += bets.play2 * 3
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 3))
                    }
                }
                else if(pocketbonus_tables.value == 3){
                    if(prez >= 10180){
                        payobj.play2 += bets.play2 * 4
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 4))
                    }
                    else if(prez >= 10000){
                        payobj.play2 += bets.play2 * 3
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 3))
                    }
                }
                else if(pocketbonus_tables.value == 4){
                    if(prez >= 10120){
                        payobj.play2 += bets.play2 * 4
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 4) + "<br>")
                    }
                    else if(prez >= 10000){
                        payobj.play2 += bets.play2 * 3
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 3) + "<br>")
                    }
                }
                else if(pocketbonus_tables.value == 5){
                    if(prez >= 10060){
                        payobj.play2 += bets.play2 * 4
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 4) + "<br>")
                    }
                    else if(prez >= 10000){
                        payobj.play2 += bets.play2 * 3
                        gainsarray.push(`Pocket Bonus: +$` + Intl.NumberFormat('en-US').format(bets.play2 * 3) + "<br>")
                    }
                }

                achievement = ""

                

                if(bets.big8 != undefined){
                    if(erez >= 90000000) achievement = "Royal Flush"
                    else if(erez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(erez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(erez >= 60000000){
                        achievement = "Full House"
                    }
                    else if(erez >= 50000000){
                        achievement = "Flush"
                    }
                    else if(erez >= 40000000){
                        achievement = "Straight"
                    }
                }


                if(achievement != ""){
                    payobj.big8 += bets.big8 * (payouts[game]["Big 8"][big8_tables.value][achievement] + 1)
                    gainsarray.push(`Big 8: +$` + Intl.NumberFormat('en-US').format(bets.big8 * (payouts[game]["Big 8"][big8_tables.value][achievement] + 1)))
                }
                else if(bets.big8 != undefined){
                    payobj.big8 = 0
                    gainsarray.push(`Big 8: Lost`)
                }

                //

                

                if(bets.progressivejackpot != undefined){
                    if(erez >= 90000000) achievement = "Royal Flush"
                    else if(erez >= 80000000){
                        achievement = "Straight Flush"
                    }
                    else if(erez >= 70000000){
                        achievement = "Four of a Kind"
                    }
                    else if(erez >= 60000000 && progressivejackpot_tables.value == 1){
                        achievement = "Full House"
                    }
                }

                if(achievement != ""){
                    whatIearn = 0
                    whatIearn = payouts[game]["Progressive Jackpot"][progressivejackpot_tables.value][achievement]
                    if((whatIearn).startsWith("J")){
                        amo = +whatIearn.split("J")[1]
                        whatIearn = myjackpot * (amo / 100)
                        myjackpot -= whatIearn
                    }
                    else if(whatIearn.endsWith("S")){
                        whatIearn = +(whatIearn.slice(0, -1))
                    }
                    if(myjackpot < 2000) myjackpot = 2000
                    payobj.progressivejackpot = whatIearn
                    gainsarray.push(`Progressive Jackpot: +$` + Intl.NumberFormat('en-US').format(whatIearn))
                }

            }
            else if(game.includes("Baccarat")){
                if(bets.tie != undefined){
                    if(brez[0] == prez[0]){
                        payobj.tie = bets.tie * 9
                        gainsarray.push(`Tie: +$` + Intl.NumberFormat('en-US').format(bets.tie * 9))
                    }
                    else{
                        payobj.tie = 0
                        gainsarray.push("Tie: Lost")
                    }
                }
                if(bets.banker != undefined){
                    if(brez[0] > prez[0]){
                        if(game == "Midi Baccarat"){
                            payobj.banker = bets.banker * 1.95
                            gainsarray.push(`Banker: +$` + Intl.NumberFormat('en-US').format(bets.banker * 1.95))
                        }
                        else if( 
                            ((brez[0] == 7) && (prez[0] == 6) && (game == "BBQ Baccarat")) ||
                            ((brez[0] == 7) && (brez[1] == 3) && (game == "EZ Baccarat"))
                        ){
                            payobj.banker = bets.banker
                            gainsarray.push(`Banker: +$` + Intl.NumberFormat('en-US').format(bets.banker))
                        }
                        else if(brez[0] == 6 && game == "Nepal Baccarat"){
                            payobj.banker += bets.banker * 1.5
                            gainsarray.push(`Banker: +$` + Intl.NumberFormat('en-US').format(bets.banker * 1.5))
                        }
                        else{
                            payobj.banker += bets.banker * 2
                            gainsarray.push(`Banker: +$` + Intl.NumberFormat('en-US').format(bets.banker * 2))
                        }
                    }
                    else if(prez[0] == brez[0]){
                        payobj.banker = bets.banker
                        gainsarray.push(`Banker: +$` + Intl.NumberFormat('en-US').format(bets.player))
                    }
                    else{
                        payobj.banker = 0
                        gainsarray.push("Banker: Lost")
                    }
                }
                if(bets.player != undefined){
                    if(prez[0] > brez[0]){
                        payobj.player += bets.player * 2
                        gainsarray.push(`Player: +$` + Intl.NumberFormat('en-US').format(bets.player * 2))
                    }
                    else if(prez[0] == brez[0]){
                        payobj.player += bets.player
                        gainsarray.push(`Player: +$` + Intl.NumberFormat('en-US').format(bets.player))
                    }
                    else{
                        payobj.player = 0
                        gainsarray.push("Player: Lost")
                    }
                }
                if(bets.anybbq != undefined){
                    if((brez[0] == 7 && prez[0] == 6) || (prez[0] == 7 && brez[0] == 6)){
                        payobj.anybbq += bets.anybbq * 21
                        gainsarray.push(`Any BBQ: +$` + Intl.NumberFormat('en-US').format(bets.anybbq * 21))
                    }
                    else{
                        payobj.anybbq = 0
                        gainsarray.push("Any BBQ: Lost")
                    }
                }
                if(bets.smallbankerbbq != undefined){
                    if((brez[0] == 7 && prez[0] == 6) && (brez[1] == 2)){
                        payobj.smallbankerbbq += bets.smallbankerbbq * 61
                        gainsarray.push(`Small Banker BBQ: +$` + Intl.NumberFormat('en-US').format(bets.smallbankerbbq * 61))
                    }
                    else{
                        payobj.smallbankerbbq = 0
                        gainsarray.push("Small Banker BBQ: Lost")
                    }
                }
                if(bets.bigbankerbbq != undefined){
                    if((brez[0] == 7 && prez[0] == 6) && (brez[1] == 3)){
                        payobj.bigbankerbbq += bets.bigbankerbbq * 126
                        gainsarray.push(`Small Banker BBQ: +$` + Intl.NumberFormat('en-US').format(bets.bigbankerbbq * 126))
                    }
                    else{
                        payobj.bigbankerbbq = 0
                        gainsarray.push("Big Banker BBQ: Lost")
                    }
                }
                if(bets.smallplayerbbq != undefined){
                    if((prez[0] == 7 && brez[0] == 6) && (prez[1] == 2)){
                        payobj.smallplayerbbq += bets.smallplayerbbq * 61
                        gainsarray.push(`Small Player BBQ: +$` + Intl.NumberFormat('en-US').format(bets.smallplayerbbq * 61))   
                    }
                    else{
                        payobj.smallplayerbbq = 0
                        gainsarray.push("Small Player BBQ: Lost")
                    }
                }
                if(bets.bigplayerbbq != undefined){
                    if((prez[0] == 7 && brez[0] == 6) && (prez[1] == 2)){
                        payobj.bigplayerbbq += bets.bigplayerbbq * 151
                        gainsarray.push(`Big Player BBQ: +$` + Intl.NumberFormat('en-US').format(bets.bigplayerbbq * 151))
                    }
                    else{
                        payobj.bigplayerbbq = 0
                        gainsarray.push("Big Player BBQ: Lost")
                    }
                }
            }
            else if(game == "Miami Four Card"){
                achievement = ""
                if(prez >= 50000){
                    achievement = "Straight Flush"
                }
                else if(prez >= 40000){
                    achievement = "Three of a Kind"
                }
                else if(prez >= 30000){
                    achievement = "Straight"
                }
                else if(prez >= 20000){
                    achievement = "Flush"
                }
                else if(prez >= 10000){
                    achievement = "Pair"
                }

                if(achievement != ""){
                    payobj.ante = bets.ante * ((payouts[game]["Ante and Play"][anteandplay_tables.value][achievement] + 1) * 3)
                    gainsarray.push(`Ante / Play (+$` + Intl.NumberFormat('en-US').format(bets.ante * ((payouts[game]["Ante and Play"][anteandplay_tables.value][achievement] + 1) * 3)) + ")")
                }
                else{
                    payobj.ante = 0
                    gainsarray.push("Ante / Play: Lost")
                }

                if(bets.miamiclubs != undefined){
                    achievement = ""
                    if(crez == 4){
                        achievement = "Four Clubs"
                    }
                    else if(crez >= 3){
                        achievement = "Three Clubs"
                    }
                    else if(crez >= 2){
                        achievement = "Two Clubs"
                    }

                    if(achievement != ""){
                        payobj.miamiclubs = bets.miamiclubs * ((payouts[game]["Miami Clubs"][miamiclubs_tables.value][achievement] + 1))
                        gainsarray.push(`Miami Clubs: +$` + Intl.NumberFormat('en-US').format(bets.miamiclubs * ((payouts[game]["Miami Clubs"][miamiclubs_tables.value][achievement] + 1) )))
                    }
                    else{
                        payobj.miamiclubs = 0
                        gainsarray.push("Miami Clubs: Lost")
                    }
                }
            }

            if(mymode == "Player") mygains.innerHTML = gainsarray.join("; ")
            buttonp.innerHTML = `<button class="button letsdeal" id="chip_deal" onclick="startOver()">New Bet</button> <button class="button letsdeal" id="chip_deal" onclick="rebet()">Rebet</button>`
            cash.textContent = Intl.NumberFormat('en-US').format(money)

            return payobj

        }

        function rebet(){
            money -= Object.values(bets).reduce((a, b) => a + b, 0)
            cash.textContent = Intl.NumberFormat('en-US').format(money)
            if(["Three Card Poker", "Miami Four Card"].includes(game)) play_cost.textContent = 0
            else if(game == "Dakota Duel Draw") play1_cost.textContent = 0
            mygains.textContent = ""
            letsplay()
        }


        function startOver(){
            bets = {}
            cash.textContent = Intl.NumberFormat('en-US').format(money)
            document.querySelectorAll('.am').forEach(span => { span.textContent = '0' })
            //shadowbutton("play")
            if(game == "Three Card Poker"){
                awakenbutton("ante")
                awakenbutton("pairplus")
                awakenbutton("sixcardbonus")
                awakenbutton("progressivejackpot")
            }
            else if(game.includes("Baccarat")){
                awakenbutton("player")
                awakenbutton("banker")
                awakenbutton("tie")
                if(game == "BBQ Baccarat"){
                    awakenbutton("anybbq")
                    awakenbutton("smallplayerbbq")
                    awakenbutton("bigplayerbbq")
                    awakenbutton("smallbankerbbq")
                    awakenbutton("bigbankerbbq")
                }
            }
            else if(game == "Dakota Duel Draw"){
                awakenbutton("play2")
                awakenbutton("big8")
            }
            else if(game == "Miami Four Card"){
                awakenbutton("ante")
                awakenbutton("miamiclubs")
            }

            buttonp.innerHTML = mymode == "Player" ? `<button class="button" id="chip_deal" onclick="letsplay()">Deal</button>` : ``
        }
        function awakenbutton(name){
            document.getElementById(name).classList.remove("gray")
            document.getElementById(name).classList.add("putchipshere")
        }
        function shadowbutton(name){
            document.getElementById(name).classList.remove("putchipshere")
            document.getElementById(name).classList.add("gray")
        }

        trips = ["AAA", "KKK", "QQQ", "JJJ", "TTT", "999", "888", "777", "666", "555", "444", "333", "222"]
        pairs = ["AA", "KK", "QQ", "JJ", "TT", "99", "88", "77", "66", "55", "44", "33", "22"]
        quads = ["AAAA", "KKKK", "QQQQ", "JJJJ", "TTTT", "9999", "8888", "7777", "6666", "5555", "4444", "3333", "2222"]

        function evalthree(threecardone){
            straights3 = ["A32", "432", "543", "654", "765", "876", "987", "T98", "JT9",  "QJT", "KQJ", "AKQ"]
            onehand = threecardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCC", "DDD", "HHH", "SSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights3.length; x++){
                if(nums == straights3[x]){
                    if(flush){
                        if(nums == "AKQ"){
                            if(onehand[0] == "AS") return 70000
                            return 60000
                        }
                        else return 50000 + x
                    }
                    else return 30000 + /*strt*/ x
                }
            }
            if(flush){
                return 20000/*flush*/ + 400 * unorder.indexOf(nums[0]) + 20 * unorder.indexOf(nums[1]) + unorder.indexOf(nums[2])
            }
            for(x = 0; x < trips.length; x++){
                if(nums.includes(trips[x])){
                    return 40000 + /*"three of a kind"*/ unorder.indexOf(trips[x][0])
                }
            }
            for(x = 0; x < pairs.length; x++){
                if(nums.includes(pairs[x])){
                    return 10000 + (20 * unorder.indexOf(pairs[x][0])) + unorder.indexOf(nums.replace(pairs[x], ""))
                }
            }
            return 0 /*nothing*/ + 400 * unorder.indexOf(nums[0]) + 20 * unorder.indexOf(nums[1]) + unorder.indexOf(nums[2])
        }

        function evalfour(fourcardone){
            straights4 = ["A432", "5432", "6543", "7654", "8765", "9876", "T987", "JT98", "QJT9", "KQJT", "AKQJ"]
            onehand = fourcardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCCC", "DDDD", "HHHH", "SSSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights4.length; x++){
                if(nums == straights4[x]){
                    if(flush){
                        return 6000000 + x
                    }
                    else return 3000000 + /*strt*/ x
                }
            }
            if(flush){
                return 4000000/*flush*/ + 8000 * unorder.indexOf(nums[0]) + 400 * unorder.indexOf(nums[1]) + 20 * unorder.indexOf(nums[2]) + unorder.indexOf(nums[3])
            }
            for(x = 0; x < quads.length; x++){
                if(nums.includes(quads[x])){
                    return 7000000 + unorder.indexOf(quads[x][0])
                }
            }            
            for(x = 0; x < trips.length; x++){
                if(nums.includes(trips[x])){
                    return 5000000 + /*"three of a kind"*/ 20 * unorder.indexOf(trips[x][0]) + unorder.indexOf(nums.replace(trips[x], "")[0])
                }
            }
            for(x = 0; x < pairs.length; x++){
                if(nums.includes(pairs[x])){
                    for(y = x + 1; y < pairs.length; y++){
                        if(nums.includes(pairs[y])) return 2000000 + (20 * unorder.indexOf(pairs[x][0])) + (unorder.indexOf(pairs[y][0]))
                    }
                    return 1000000 + (400 * unorder.indexOf(pairs[x][0])) + 20 * unorder.indexOf(nums.replace(pairs[x], "")[0]) + unorder.indexOf(nums.replace(pairs[x], "")[1])
                }
            }
            return 0 /*nothing*/ + 8000 * unorder.indexOf(nums[0]) + 400 * unorder.indexOf(nums[1]) + 20 * unorder.indexOf(nums[2]) + unorder.indexOf(nums[3])
        }

        function evalfivemany(eightcardone){
            return Math.max(...getCombinations(eightcardone, 5).map(x => evalfive(x)))
        }
        function getCombinations(arr, k) {
                const combos = [];

                function helper(start, combo) {
                    if (combo.length === k) {
                    combos.push(combo);
                    return;
                    }

                    for (let i = start; i < arr.length; i++) {
                    helper(i + 1, combo.concat(arr[i]));
                    }
                }

                helper(0, []);
                return combos;
        }

        function evalfive(fivecardone){
            straights5 = ["A5432", "65432", "76543", "87654", "98765", "T9876", "JT987", "QJT98", "KQJT9", "AKQJT"]
            onehand = fivecardone.sort((a,b) => unorder.indexOf(b[0]) - unorder.indexOf(a[0]))
            flush = ["CCCCC", "DDDDD", "HHHHH", "SSSSS"].includes(onehand.map(x => x[1]).join(""))
            nums = onehand.map(x => x[0]).join("")
            for(x = 0; x < straights5.length; x++){
                if(nums == straights5[x]){
                    if(flush){
                        return (nums == "AKQJT" ? 90000000 + /*"royal flush"*/ x : [80000000/*"straight flush"*/+ x])
                    }
                    else return 40000000 + /*strt*/ x
                }
            }
            if(flush){
                return 50000000 + (20**4 * unorder.indexOf(nums[0])) + (20**3 * unorder.indexOf(nums[1])) + (20**2 * unorder.indexOf(nums[2])) + (20 * unorder.indexOf(nums[4])) + unorder.indexOf(nums[4])
            }
            for(x = 0; x < quads.length; x++){
                if(nums.includes(quads[x])){
                    return 70000000 + /*"four of a kind"*/ (20 * unorder.indexOf(quads[x][0])) + unorder.indexOf(nums.replace(quads[x], ""))
                }
            }
            for(x = 0; x < trips.length; x++){
                //ful house 60 000 000
                if(nums.includes(trips[x])){
                    for(y = 0; y < pairs.length; y++){
                        if(y != x && nums.includes(pairs[y])) return 60000000 + (20 * unorder.indexOf(trips[x][0])) + (unorder.indexOf(pairs[y][0]))
                    }
                    return 30000000 + /*"three of a kind"*/ (400 * unorder.indexOf(trips[x][0])) + (20 * unorder.indexOf(nums.replace(trips[x][0], "")[0])) + unorder.indexOf(nums.replace(trips[x][0], "")[1])
                }
            }
            for(x = 0; x < pairs.length; x++){

                //two pair 20 000 000
                if(nums.includes(pairs[x])){
                    for(y = x + 1; y < pairs.length; y++){
                        if(nums.includes(pairs[y])) return 20000000 + (400 * unorder.indexOf(pairs[x][0])) + (20 * unorder.indexOf(pairs[y][0])) + unorder.indexOf(nums.replace(pairs[x], "").replace(pairs[y], ""))
                    }
                    return 10000000 + /*pair*/ (8000 * (unorder.indexOf(pairs[x][0]))) + (400 * unorder.indexOf(nums.replace(pairs[x], "")[0])) + (20 * unorder.indexOf(nums.replace(pairs[x], "")[1])) + (unorder.indexOf(nums.replace(pairs[x], "")[2]))
                }
            }
            return 0 /*nothing*/ + 160000 * unorder.indexOf(nums[0]) + 8000 * unorder.indexOf(nums[1]) + 400 * unorder.indexOf(nums[2]) + 20 * unorder.indexOf(nums[3]) + unorder.indexOf(nums[4])
        }


        payouts = {
            "Three Card Poker": {
                "Ante Bonus": [
                    {
                        "Straight Flush": 5,
                        "Three of a Kind": 4,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 4,
                        "Three of a Kind": 3,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 3,
                        "Three of a Kind": 2,
                        "Straight": 1,
                    },
                    {
                        "Straight Flush": 5,
                        "Three of a Kind": 3,
                        "Straight": 1,
                    },
                ],
                "PairPlus": [
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 35,
                        "Three of a Kind": 33,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 25,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 35,
                        "Three of a Kind": 25,
                        "Straight": 6,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 50,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 3,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 5,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 25,
                        "Straight": 5,
                        "Flush": 4,
                        "Pair": 1,
                    },
                    {
                        "Straight Flush": 40,
                        "Three of a Kind": 30,
                        "Straight": 6,
                        "Flush": 3,
                        "Pair": 1,
                    },
                ],
                "Six Card Bonus": [
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 100,
                        "Full House": 20,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 7,
                    },
                    {
                        "Royal Flush": 2000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 15,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                    {
                        "Royal Flush": 1000,
                        "Straight Flush": 200,
                        "Four of a Kind": 50,
                        "Full House": 25,
                        "Flush": 20,
                        "Straight": 10,
                        "Three of a Kind": 5,
                    },
                ],
                "Progressive Jackpot": [
                    {
                        "Spade Mini Royal": "J100",
                        "Mini Royal": "500S",
                        "Straight Flush": "100S",
                        "Three of a Kind": "90S"
                    },
                    {
                        "Spade Mini Royal": "J100",
                        "Mini Royal": "500S",
                        "Straight Flush": "70S",
                        "Three of a Kind": "60S",
                        "Straight": "6S",
                    },
                ]
            },
            "Dakota Duel Draw": {
                "Plays": [
                    {
                        "Royal Flush": 100,
                        "Straight Flush": 50,
                        "Four of a Kind": 30,
                        "Full House": 8,
                        "Flush": 6,
                        "Straight": 4,
                        "Three of a Kind": 3,
                        "Two Pair": 2,
                        "Nines or Better": 2,
                    },
                ],
                "Big 8": [
                    {
                        "Royal Flush": 150,
                        "Straight Flush": 70,
                        "Four of a Kind": 30,
                        "Full House": 5,
                        "Flush": 3,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 15,
                        "Full House": 5,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 20,
                        "Full House": 5,
                        "Flush": 4,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 30,
                        "Four of a Kind": 20,
                        "Full House": 6,
                        "Flush": 3,
                        "Straight": 1,
                    },
                    {
                        "Royal Flush": 50,
                        "Straight Flush": 35,
                        "Four of a Kind": 30,
                        "Full House": 4,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 80,
                        "Straight Flush": 40,
                        "Four of a Kind": 30,
                        "Full House": 4,
                        "Flush": 3,
                        "Straight": 2,
                    },
                    {
                        "Royal Flush": 150,
                        "Straight Flush": 80,
                        "Four of a Kind": 35,
                        "Full House": 5,
                        "Flush": 4,
                        "Straight": 0,
                    },
                ],
                "Pocket Bonus": [
                    {
                        "Nines or Better": 8,
                    },
                    {
                        "Pair of Aces": 20,
                        "Pair of Kings": 10,
                        "Pair of 9's-Queens": 4,
                    },
                    {
                        "Pair of Aces": 20,
                        "Pair of Kings": 10,
                        "Pair of Queens": 8,
                        "Pair of 9's-Jacks": 3,
                    },
                    {
                        "Jacks or Better": 4,
                        "Pair of 2's-10's": 3,
                    },
                    {
                        "Eights or Better": 4,
                        "Pair of 2's-7's": 3,
                    },
                    {
                        "Fives or Better": 4,
                        "Pair of 2's-4's": 3,
                    },
                ],
                "Progressive Jackpot": [
                    {
                        "Royal Flush": "J100",
                        "Straight Flush": "J10",
                        "Four of a Kind": "80S",
                    },
                    {
                        "Royal Flush": "J100",
                        "Straight Flush": "500S",
                        "Four of a Kind": "100S",
                    },
                ]
            },
            "Crazy 4 Poker": {
                "Super Bonus": [
                    {
                        "Four Aces": 200,
                        "Four of a Kind": 30,
                        "Straight Flush": 15,
                        "Three of a Kind": 2,
                        "Flush": 1.5,
                        "Straight": 1,
                    },
                ],
                "Queens Up": [
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 9,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 8,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 4,
                        "Straight": 3,
                        "Two Pair": 2,
                        "Queens or Better": 1,
                    },
                ],
            },
            "Four Card Poker": {
                "Ante Bonus": [
                    {
                        "Four of a Kind": 25,
                        "Straight Flush": 20,
                        "Three of a Kind": 2,
                    },
                    {
                        "Four of a Kind": 30,
                        "Straight Flush": 15,
                        "Three of a Kind": 2,
                    },
                ],
                "Aces Up": [
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 9,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 6,
                        "Straight": 5,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 9,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 30,
                        "Three of a Kind": 7,
                        "Flush": 6,
                        "Straight": 5,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 5,
                        "Straight": 4,
                        "Two Pair": 3,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 8,
                        "Flush": 6,
                        "Straight": 4,
                        "Two Pair": 2,
                        "Pair of Aces": 1,
                    },
                    {
                        "Four of a Kind": 50,
                        "Straight Flush": 40,
                        "Three of a Kind": 7,
                        "Flush": 5,
                        "Straight": 4,
                        "Two Pair": 3,
                        "Pair of Aces": 1,
                    },
                ],
            },
            "Miami Four Card": {
                "Ante and Play": [
                    {
                        "Straight Flush": 7,
                        "Three of a Kind": 4,
                        "Straight": 2,
                        "Flush": 1,
                        "Pair": 0,
                    },
                    {
                        "Straight Flush": 8,
                        "Three of a Kind": 3,
                        "Straight": 2,
                        "Flush": 1,
                        "Pair": 0,
                    },
                ],
                "Miami Clubs": [
                    { //-0.05685474189
                        "Four Clubs": 10,
                        "Three Clubs": 6,
                        "Two Clubs": 2,
                    },
                    { //-0.05685474189
                        "Four Clubs": 20,
                        "Three Clubs": 5,
                        "Two Clubs": 2,
                    },
                    { //-0.07164
                        "Four Clubs": 30,
                        "Three Clubs": 4,
                        "Two Clubs": 2,
                    },
                ],
            }
        }

        function fixtables(lid){
            document.getElementById(lid.replace(/[ \(\)]/g, "").toLowerCase() + "_numbers").innerHTML = Object.entries(payouts[game][lid][document.getElementById(lid.replace(/[ \(\)]/g, "").toLowerCase() + "_tables").value]).map(x => `<tr><td>${x[0]}</td><td>${ratio(x[1])}</td></tr>`).join("")
        }

        function ratio(num){
            if(num == 0) return "Push"
            else if(("" + num).startsWith("J")) return "<u>" + num.split("J")[1] + "% of Jackpot</u>"
            else if(("" + num).endsWith("S")) return "$" + num.slice(0, -1)
            else if((num * 2) % 2 != 0){
                return (num * 2) + ":2"
            }
            else return num + ":1"
        }

        function B(b){
            h = 14
            inc = 14
            theclass = ((["Play 1", "Play", "Super Bonus"].includes(b) && mymode == "Player") ? "gray" : "putchipshere")
            if(b.includes("Play") || b == "Ante") theclass += " diamondbutton"
            nn = `<button class="${theclass}" id="${b.toLowerCase().replace(/ /g, "")}" onclick="increase(this.id)" ondblclick="decrease(this.id)"><div>${b}<br><br>$<span class="am" id="${b.toLowerCase().replace(/ /g, "")}_cost">${mymode == "Dealer" ? bets[b.toLowerCase().replace(/ /g, "")] : 0}</span>${(mymode == "Player" ? `` : `<br>[$<span id="${b.toLowerCase().replace(/ /g, "")}_pay">0</span>]`)}</div></button>`
            return nn
        }

        function changegame(){
            buttonp.innerHTML =  `<button class="button" id="chip_deal" onclick="letsplay()">Deal</button>`
            buttonp.style.display = mycash.style.display = (mymode == "Dealer" ? "none" : "block")
            game = gametitle.value
            defaultcards()
            mybuttonsnow = {
                "Miami Four Card": `${B("Ante")}${B("Play")}${B("Miami Clubs")}`,
                "Dakota Duel Draw": `${B("Play 1")}${B("Play 2")}${B("Big 8")}`,
                "Three Card Poker": `${B("Play")}${B("Ante")}${B("PairPlus")}${B("Six Card Bonus")}${B("Progressive Jackpot")}`,
                "Baccarat": `${B("Player")}${B("Banker")}${B("Tie")}`,
                "Crazy 4 Poker": `${B("Play")}${B("Super Bonus")}${B("Ante")}${B("Queens Up")}`,
                "Four Card Poker": `${B("Play")}${B("Ante")}${B("Aces Up")}`,
            }[game.includes("Baccarat") ? "Baccarat" : game]
           // console.log(mybuttonsnow)
            mybids.innerHTML = mybuttonsnow
            hh = mybids.innerHTML
            //console.log()
            mybids2.innerHTML = {
                "BBQ Baccarat": `${B("Any BBQ")}${B("Small Banker BBQ")}${B("Small Player BBQ")}${B("Big Banker BBQ")}${B("Big Player BBQ")}`,
            }[game] ?? ``
            left.innerHTML = ""
            if(["Three Card Poker", "Dakota Duel Draw", "Miami Four Card", "Crazy 4 Poker", "Four Card Poker"].includes(game)){
                for(x of Object.entries(payouts[game])){
                    left.innerHTML += `<table id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_table"> <thead> <caption>${x[0]}</caption> ${x[1].length <= 1 ? `` : `<tr><th colspan="2">Table<select name="${x[0]}" onchange="fixtables(this.name)" id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_tables"> ${x[1].map((a, b) => `<option value="${b}">#${+b + 1}</option>`).join("")}</select></th> </tr>`}</thead> <tbody id="${x[0].replace(/[ \(\)]/g, "").toLowerCase()}_numbers">${Object.entries(x[1][0]).map(y => `<tr><td>${y[0]}</td><td>${ratio(y[1])}</td></tr>`).join("")}</tbody> </table>`
                }
                if(["Three Card Poker", "Dakota Duel Draw"].includes(game)){
                    left.innerHTML += "<p id='progress'><span id='progressspan'>Jackpot: <span id='jackpot'>calculating...</span></span></p>"
                }
            }
            else if(game == "BBQ Baccarat"){
                left.innerHTML = `<table id="bbqtable"><tr><td>Any BBQ</td><td>20:1</td></tr><tr><td>Small Banker BBQ</td><td>60:1</td></tr><tr><td>Small Player BBQ</td><td>60:1</td></tr><tr><td>Big Banker BBQ</td><td>125:1</td></tr><tr><td>Big Player BBQ</td><td>150:1</td></tr></table>`
            }
            else if(game == "EZ Baccarat" || game == "Nepal Baccarat" || game == "Midi Baccarat"){
                left.innerHTML = `<table id="bbqtable"><tr><td>Tie</td><td>8:1</td></tr></table>`
            }
        }

        function menuize(ourgame){
            menu.style.display = "none"
            left.style.display = right.style.display = "block"
            gametitle.value = ourgame
            changegame()
        }

        betamount(5)

        //Miami Four Card

        //according to my calc: 1.0490349986149583% house edge
        
        //1.45682888540037% house edge second table
/*
        
        harr = []


        // frenchdeck = ["AC", "AD", "AH", "AS", "KC", "KD", "KH" etc. all the way to "2S"

        // straights = ["A32", "432", "543", "654", "765", "876", "987", "T98", "JT9", "QJT", "KQT", "AKQ"]
        for(a = 0; a < 52; a++){
            for(b = a + 1; b < 52; b++){
                for(c = b + 1; c < 52; c++){
                    for(c = 0; d < 52; c++){
                        for(e = d + 1; e < 52; e++){
                            for(f = e + 1; f < 52; f++){
                                arr = [a, b, c, d, e, f].map(x => frenchdeck[x])
                                if(Array.from([...new Set(arr)].length == 6){ //making sure all cards are different
                                    if((a[1] == b[1] && b[1] == c[1]) && straights.includes(a[0] + b[0] + c[0])){
                                        instancearray.push([
                                            [a, b, c],
                                            [d, e, f]
                                        ])
                                    }
                                }
                            }   
                        }
                    }
                }
            }
        }
        return instancearray
*/

/*
side bet


(57798 * 2 / 270725) + ((82251 + 118807) * -1 / 270725) + (11154 * 4 / 270725) + (715 * 30 / 270725) = -0.07164465786 house edge

larr = []
for(a = 0; a < 52; a++){
            for(b = a + 1; b < 52; b++){
                for(c = b + 1; c < 52; c++){
                    for(d = c + 1; d < 52; d++){
                        larr.push(frenchdeck[a][1] + frenchdeck[b][1] + frenchdeck[c][1] + frenchdeck[d][1])
                    }}}}
        */
    </script>
</html>