<html>
    <head>
        <style>
            .acard{
                background-color: white;
                height: 134px;
                width: 100px;
                border-radius: 20px;
                line-height: 115px;
                margin: 3px;
                float: left !important;
                font-size: 140px;
                text-align: center;
            }
            #cards{
                text-align: center;
                margin-left: calc((100% - 530px) / 2);
                margin-right: calc((100% - 530px) / 2);
            }
            body{
                background-color: blue;
            }
            h1{
                color: white;
                text-align: center;
                font-family: Verdana;
            }
            button{
                font-size: 50px;
                width: 30%;
                margin-left: 35%;
                margin-right: 35%;
                background-color: yellow;
                border: 2px solid black;
            }
            td{
                color: yellow;
                text-align: center;
                font-family: Verdana;
                width: 290px;
                border-bottom: 2px solid;
            }
            table{
                margin-left: calc((100% - 598px) / 2);
                margin-right: calc((100% - 598px) / 2);
            }
            select{
                width: 80%;
                text-align: center;
                margin-left: 10%;
                margin-right: 10%;
                background-color: blue;
                color: yellow;
                border: 1px solid yellow;
                font-size: 32px;
            }
            #note{
                font-family: Verdana;
                text-align: center;
                color: yellow;
            }
        </style>
    </head>
    <body>
        <h1>VIDEO POKER</h1>
        <p></p>
        <p id="note"></p>
        <select id="gametype" onchange="newGame()">
            <option value="AaDB">Ace and Deuce Bonus</option>
            <option value="AaF">Aces and Faces</option>
            <option value="AD">Acey Deucey</option>
            <option value="AA">All American</option>
            <option value="BJB">Black Jack Bonus</option>
            <option value="BD">Bonus Deluxe</option>
            <option value="BDW">Bonus Deuces Wild</option>
            <option value="BP">Bonus Poker</option>
            <option value="DaJ">Deuces and Joker</option>
            <option value="DAaF">Double Aces and Faces</option>
            <option value="DAD">Double Acey Deucey</option>
            <option value="DB">Double Bonus</option>
            <option value="DBDW">Double Bonus Deuces Wild</option>
            <option value="DDAaF">Double Double Aces and Faces</option>
            <option value="DDB">Double Double Bonus</option>
            <option value="DDBP">Double Double Bonus Plus</option>
            <option value="DJP">Double Joker Poker</option>
            <option value="FADB">Five Aces Double Bonus</option>
            <option value="FADDB">Five Aces Double Double Bonus</option>
            <option value="FAJoB">Five Aces Jacks or Better</option>
            <option selected value="JoB">Jacks or Better</option>
            <option value="JPA">Joker Poker Aces</option>
            <option value="JPK">Joker Poker Kings</option>
            <option value="JPTP">Joker Poker Two Pair</option>
            <option value="NB">Nevada Bonus</option>
            <option value="OEJ">One-Eyed Jacks</option>
            <option value="RAB">Royal Aces Bonus</option>
            <option value="SW">Sevens Wild</option>
            <option value="SAB">Super Aces Bonus</option>
            <option value="SBDW">Super Bonus Deuces Wild</option>
            <option value="SDB">Super Double Bonus</option>
            <option value="SDDB">Super Double Double Bonus</option>
            <option value="ToB">Tens or Better</option>
            <option value="TB">Triple Bonus</option>
            <option value="TBP">Triple Bonus Plus</option>
            <option value="TDB">Triple Double Bonus</option>
            <option value="WHA">White Hot Aces</option>
        </select>
        <br>
        <br>
        <table id="values">
            <tr>
                <td>Royal Flush</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>Straight Flush</td>
                <td>250</td>
            </tr>
            <tr>
                <td>Four of a Kind</td>
                <td>125</td>
            </tr>
            <tr>
                <td>Full House</td>
                <td>45</td>
            </tr>
            <tr>
                <td>Flush</td>
                <td>30</td>
            </tr>
            <tr>
                <td>Straight</td>
                <td>20</td>
            </tr>
            <tr>
                <td>Three of a Kind</td>
                <td>15</td>
            </tr>
            <tr>
                <td>Two Pair</td>
                <td>10</td>
            </tr>
            <tr>
                <td>Jacks or Better</td>
                <td>5</td>
            </tr>
        </table>
        <div id="cards">
            <div class="acard">ğŸ‚ </div>
            <div class="acard">ğŸ‚ </div>
            <div class="acard">ğŸ‚ </div>
            <div class="acard">ğŸ‚ </div>
            <div class="acard">ğŸ‚ </div>
        </div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <button id="drawdeal" onclick="redeal(this.textContent)">DEAL</button>
        <h1>Credits: <span id="cred">1000</span></h1>
        <h1 id="win"></h1>
    </body>
    <script>
        credits = 1000
        frenchdeck = "ğŸ‚¡ğŸ‚±ğŸƒğŸƒ‘ğŸ‚®ğŸ‚¾ğŸƒğŸƒğŸ‚­ğŸ‚½ğŸƒğŸƒğŸ‚«ğŸ‚»ğŸƒ‹ğŸƒ›ğŸ‚ªğŸ‚ºğŸƒŠğŸƒšğŸ‚©ğŸ‚¹ğŸƒ‰ğŸƒ™ğŸ‚¨ğŸ‚¸ğŸƒˆğŸƒ˜ğŸ‚§ğŸ‚·ğŸƒ‡ğŸƒ—ğŸ‚¦ğŸ‚¶ğŸƒ†ğŸƒ–ğŸ‚¥ğŸ‚µğŸƒ…ğŸƒ•ğŸ‚¤ğŸ‚´ğŸƒ„ğŸƒ”ğŸ‚£ğŸ‚³ğŸƒƒğŸƒ“ğŸ‚¢ğŸ‚²ğŸƒ‚ğŸƒ’"
        stardeck = "ğŸƒŸğŸ‚¡ğŸ‚±ğŸƒğŸƒ‘ğŸ‚®ğŸ‚¾ğŸƒğŸƒğŸ‚­ğŸ‚½ğŸƒğŸƒğŸ‚«ğŸ‚»ğŸƒ‹ğŸƒ›ğŸ‚ªğŸ‚ºğŸƒŠğŸƒšğŸ‚©ğŸ‚¹ğŸƒ‰ğŸƒ™ğŸ‚¨ğŸ‚¸ğŸƒˆğŸƒ˜ğŸ‚§ğŸ‚·ğŸƒ‡ğŸƒ—ğŸ‚¦ğŸ‚¶ğŸƒ†ğŸƒ–ğŸ‚¥ğŸ‚µğŸƒ…ğŸƒ•ğŸ‚¤ğŸ‚´ğŸƒ„ğŸƒ”ğŸ‚£ğŸ‚³ğŸƒƒğŸƒ“ğŸ‚¢ğŸ‚²ğŸƒ‚ğŸƒ’"
        jokerdeck = "ğŸƒï¸ğŸ‚¡ğŸ‚±ğŸƒğŸƒ‘ğŸ‚®ğŸ‚¾ğŸƒğŸƒğŸ‚­ğŸ‚½ğŸƒğŸƒğŸ‚«ğŸ‚»ğŸƒ‹ğŸƒ›ğŸ‚ªğŸ‚ºğŸƒŠğŸƒšğŸ‚©ğŸ‚¹ğŸƒ‰ğŸƒ™ğŸ‚¨ğŸ‚¸ğŸƒˆğŸƒ˜ğŸ‚§ğŸ‚·ğŸƒ‡ğŸƒ—ğŸ‚¦ğŸ‚¶ğŸƒ†ğŸƒ–ğŸ‚¥ğŸ‚µğŸƒ…ğŸƒ•ğŸ‚¤ğŸ‚´ğŸƒ„ğŸƒ”ğŸ‚£ğŸ‚³ğŸƒƒğŸƒ“ğŸ‚¢ğŸ‚²ğŸƒ‚ğŸƒ’"
        doublejokerdeck = "ğŸƒï¸ğŸƒï¸ğŸ‚¡ğŸ‚±ğŸƒğŸƒ‘ğŸ‚®ğŸ‚¾ğŸƒğŸƒğŸ‚­ğŸ‚½ğŸƒğŸƒğŸ‚«ğŸ‚»ğŸƒ‹ğŸƒ›ğŸ‚ªğŸ‚ºğŸƒŠğŸƒšğŸ‚©ğŸ‚¹ğŸƒ‰ğŸƒ™ğŸ‚¨ğŸ‚¸ğŸƒˆğŸƒ˜ğŸ‚§ğŸ‚·ğŸƒ‡ğŸƒ—ğŸ‚¦ğŸ‚¶ğŸƒ†ğŸƒ–ğŸ‚¥ğŸ‚µğŸƒ…ğŸƒ•ğŸ‚¤ğŸ‚´ğŸƒ„ğŸƒ”ğŸ‚£ğŸ‚³ğŸƒƒğŸƒ“ğŸ‚¢ğŸ‚²ğŸƒ‚ğŸƒ’"
        cardname = {}
        for(x = 0; x < Array.from(frenchdeck).length; x++) cardname[Array.from(frenchdeck)[x]] = "AKQJT98765432"[Math.floor(x / 4)] + "SHDC"[x % 4]
        cardname["ğŸƒŸ"] = "AR" //ace of staRs
        cardname["ğŸƒï¸"] = "WW"

        keep = ""


        bigOBJ = {
            JoB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four of a Kind": 125,
                "Full House": 45,
                "Flush": 30,
                "Straight": 25,
                "Three of a Kind": 15,
                "Two Pair": 10,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            BJB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with a Black Jack": 4000,
                "Four 2,3,4 with a Black Jack": 2000,
                "Four 5-K with a Black Jack": 800,
                "Four Aces or Jacks": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 125,
                "Full House": 45,
                "Flush": 35,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DaJ: {
                "Five Wilds": 10000,
                "Royal Flush": 4000,
                "Four Deuces": 125,
                "Wild Royal Flush": 60,
                "Five of a Kind": 45,
                "Straight Flush": 30,
                "Full House": 15,
                "Flush": 15,
                "Straight": 10,
                "Three of a Kind": 5,
                "Nothing": 0,
            },
            BD: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four of a Kind": 400,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            AA: {
                "Royal Flush": 4000,
                "Straight Flush": 1000,
                "Four of a Kind": 175,
                "Full House": 40,
                "Flush": 40,
                "Straight": 40,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            ToB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four of a Kind": 125,
                "Full House": 30,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 10,
                "Tens or Better": 5,
                "Nothing": 0,
            },
            DB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 50,
                "Flush": 35,
                "Straight": 25,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DBDW: {
                "Royal Flush": 4000,
                "Four Deuces with an Ace": 2000,
                "Four Deuces": 1000,
                "Wild Royal Flush": 125,
                "Five Aces": 800,
                "Five 3,4,5": 250,
                "Five 6-K": 100,
                "Straight Flush": 60,
                "Four of a Kind": 50,
                "Full House": 20,
                "Flush": 10,
                "Straight": 5,
                "Three of a Kind": 5,
                "Nothing": 0,
            },
            BDW: {
                "Royal Flush": 4000,
                "Four Deuces with an Ace": 2000,
                "Four Deuces": 1000,
                "Wild Royal Flush": 125,
                "Five Aces": 400,
                "Five 3,4,5": 200,
                "Five 6-K": 100,
                "Straight Flush": 45,
                "Four of a Kind": 20,
                "Full House": 20,
                "Flush": 15,
                "Straight": 5,
                "Three of a Kind": 5,
                "Nothing": 0,
            },
            SBDW: {
                "Royal Flush": 4000,
                "Four Deuces with an Ace": 2000,
                "Four Deuces": 1000,
                "Five of a Kind with One Deuce": 800,
                "Wild Royal Flush": 125,
                "Five of a Kind": 75,
                "Straight Flush": 45,
                "Four of a Kind": 20,
                "Full House": 15,
                "Flush": 10,
                "Straight": 10,
                "Three of a Kind": 5,
                "Nothing": 0,
            },
            TB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces": 1200,
                "Four 2,3,4": 600,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            TBP: {
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces": 1200,
                "Four 2,3,4": 600,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            SW: {
                "Royal Flush": 4000,
                "Four Sevens": 1000,
                "Wild Royal Flush": 125,
                "Five of a Kind": 75,
                "Straight Flush": 45,
                "Full House": 25,
                "Flush": 10,
                "Straight": 10,
                "Three of a Kind": 5,
                "Nothing": 0,
            },
            SDB: {
                "Royal Flush": 4000,
                "Straight Flush": 400,
                "Four Aces": 800,
                "Four J,Q,K": 600,
                "Four 2,3,4": 400,
                "Four 5-10": 250,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            SDDB: {
                "Royal Flush": 4000,
                "Straight Flush": 400,
                "Four Aces with any 2,3,4": 2000,
                "Four Aces with any J,Q,K": 1600,
                "Four Aces": 800,
                "Four 2,3,4 with A,2,3,4": 800,
                "Four 2,3,4": 400,
                "Four J,Q,K with any J,Q,K,A": 800,
                "Four 5-K": 250,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            SAB: {
                "Royal Flush": 4000,
                "Straight Flush": 300,
                "Four Aces": 2000,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            WHA: {
                "Royal Flush": 4000,
                "Straight Flush": 400,
                "Four Aces": 1200,
                "Four 2,3,4": 600,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            BP: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces": 400,
                "Four 2,3,4": 200,
                "Four 5-K": 125,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 10,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DDB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with any 2,3,4": 2000,
                "Four Aces": 800,
                "Four 2,3,4 with any A,2,3,4": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 50,
                "Flush": 20,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            TDB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with any 2,3,4": 4000,
                "Four Aces": 800,
                "Four 2,3,4 with any A,2,3,4": 2000,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 35,
                "Straight": 20,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DDAaF: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with any J,K,Q": 2000,
                "Four Aces": 800,
                "Four J,Q,K with any J,Q,K,A": 800,
                "Four J,K,Q": 400,
                "Four 2-10": 250,
                "Full House": 50,
                "Flush": 20,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DAaF: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces": 800,
                "Four J,K,Q": 400,
                "Four 2-10": 250,
                "Full House": 45,
                "Flush": 35,
                "Straight": 25,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            AaF: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces": 400,
                "Four J,K,Q": 200,
                "Four 2-10": 125,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 10,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            AaE: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces or Eights": 400,
                "Four Sevens": 250,
                "Four of a Kind": 125,
                "Full House": 40,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 10,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DDBP: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with any 2,3,4": 2000,
                "Four Aces": 800,
                "Four 2,3,4 with any A,2,3,4": 800,
                "Four 2,3,4": 400,
                "Four 5-K with an Ace": 400,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            AaDB: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with a Deuce": 2000,
                "Four Deuces with an Ace": 2000,
                "Four Aces or Deuces": 800,
                "Four 3-K with an Ace or Deuce": 400,
                "Four 3-K": 250,
                "Full House": 50,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            AD: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces or Deuces": 800,
                "Four 3-K with an Ace or Deuce": 400,
                "Four 3-K": 250,
                "Full House": 35,
                "Flush": 25,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            DAD: {
                "Royal Flush": 4000,
                "Straight Flush": 250,
                "Four Aces with any 2,3,4": 2000,
                "Four Deuces with any A,2,3,4": 2000,
                "Four Aces": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            NB: { //nevada bonus
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces": 1000,
                "Four 2-K": 125,
                "Full House": 55,
                "Flush": 40,
                "Straight": 25,
                "Three Aces": 30,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            RAB: {
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces": 4000,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Pair of Aces": 5,
                "Nothing": 0,
            },
            FAJoB: {
                "Five Aces": 6000,
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces": 400,
                "Four 2,3,4": 200,
                "Four 5-K": 125,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Jacks or Better": 5,
                "Nothing": 0,
            },
            FADB: {
                "Five Aces": 6000,
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 40,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 15,
                "Two Pair": 5,
                "Pair of Aces": 5,
                "Nothing": 0,
            },
            FADDB: {
                "Five Aces": 6000,
                "Royal Flush": 4000,
                "Straight Flush": 500,
                "Four Aces with any 2,3,4": 2000,
                "Four Aces": 800,
                "Four 2,3,4 with any A,2,3,4": 800,
                "Four 2,3,4": 400,
                "Four 5-K": 250,
                "Full House": 45,
                "Flush": 30,
                "Straight": 20,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Pair of Aces": 5,
                "Nothing": 0,
            },
            DJP: {
                "Royal Flush": 4000,
                "Wild Royal Flush": 500,
                "Five of a Kind": 250,
                "Straight Flush": 125,
                "Four of a Kind": 45,
                "Full House": 25,
                "Flush": 20,
                "Straight": 15,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Nothing": 0,
            },
            OEJ: {
                "Royal Flush": 4000,
                "Wild Royal Flush": 1000,
                "Five of a Kind": 375,
                "Straight Flush": 250,
                "Four of a Kind": 75,
                "Full House": 25,
                "Flush": 15,
                "Straight": 10,
                "Three of a Kind": 5,
                "Two Pair": 5,
                "Nothing": 0,
            },            
            JPK: {
                "Royal Flush": 4000,
                "Five of a Kind": 1000,
                "Wild Royal Flush": 500,
                "Straight Flush": 250,
                "Four of a Kind": 100,
                "Full House": 35,
                "Flush": 25,
                "Straight": 15,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Kings or Better": 5,
                "Nothing": 0,
            },
            JPA: {
                "Royal Flush": 4000,
                "Five of a Kind": 1000,
                "Wild Royal Flush": 500,
                "Straight Flush": 250,
                "Four of a Kind": 125,
                "Full House": 35,
                "Flush": 25,
                "Straight": 15,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Pair of Aces": 5,
                "Nothing": 0,
            },
            JPTP: {
                "Royal Flush": 5000,
                "Five of a Kind": 500,
                "Wild Royal Flush": 250,
                "Straight Flush": 250,
                "Four of a Kind": 100,
                "Full House": 50,
                "Flush": 30,
                "Straight": 25,
                "Three of a Kind": 10,
                "Two Pair": 5,
                "Nothing": 0,
            },
        }

        result = ""
        game = "JoB"

        function newGame(){
            game = gametype.value
            note.innerHTML = game.startsWith("FA") ? "The fifth ace is represented with a joker card until I redo the entire card display system" : ""
            values.innerHTML = Object.entries(bigOBJ[game]).slice(0, -1).map(x => `<tr><td>${x[0]}</td><td>${x[1]}</td></tr>`).join("")
        }

        function shuffleArray(array) {
            for (i = array.length - 1; i > 0; i--) {
                j = Math.floor(Math.random() * (i + 1))
                b = array[i]
                c = array[j]
                array[j] = b
                array[i] = c
            }
            return array
        }


        function dealcards(){
            keep = ""
            if(game.startsWith("FA")){
                frenchdeck = shuffleArray(Array.from(stardeck))
            }
            else if(game.startsWith("JP")){
                frenchdeck = shuffleArray(Array.from(jokerdeck))
            }
            else if(game == "DJP"){
                frenchdeck = shuffleArray(Array.from(doublejokerdeck))
            }
            else{
                frenchdeck = shuffleArray(Array.from(frenchdeck))
            }
            newcards = frenchdeck.slice(0, 5)
            setTimeout(function(){ cards.innerHTML = cardcolor(newcards.slice(0, 1).join("") + "ğŸ‚ ğŸ‚ ğŸ‚ ğŸ‚ ") }, 50)
            setTimeout(function(){ cards.innerHTML = cardcolor(newcards.slice(0, 2).join("") + "ğŸ‚ ğŸ‚ ğŸ‚ ") }, 100)
            setTimeout(function(){ cards.innerHTML = cardcolor(newcards.slice(0, 3).join("") + "ğŸ‚ ğŸ‚ ") }, 150)
            setTimeout(function(){ cards.innerHTML = cardcolor(newcards.slice(0, 4).join("") + "ğŸ‚ ") }, 200)
            setTimeout(function(){ cards.innerHTML = cardcolor(newcards.slice(0, 5).join("")) }, 250)
            drawdeal.textContent = "DRAW"
            credits -= 5
            cred.textContent = credits
        }

        function redeal(a){
            win.textContent = ""
            if(a == "DEAL"){
                if(credits < 5) alert("GO OUTSIDE!!!!!!")
                else dealcards()
            }
            else{
                newercards = frenchdeck.slice(5, 10)
                newest = []
                for(x = 0; x < 5; x++){
                    if(!keep.includes(x)){
                        newest[x] = newercards[x]
                    }
                    else newest[x] = newcards[x]
                }
                setTimeout(function(){ cards.innerHTML = cardcolor(newest.slice(0, 1).join("") + newcards.slice(1, 5).join("")) }, 50)
                setTimeout(function(){ cards.innerHTML = cardcolor(newest.slice(0, 2).join("") + newcards.slice(2,5).join("")) }, 100)
                setTimeout(function(){ cards.innerHTML = cardcolor(newest.slice(0, 3).join("") + newcards.slice(3,5).join("")) }, 150)
                setTimeout(function(){ cards.innerHTML = cardcolor(newest.slice(0, 4).join("") + newcards.slice(4,5).join("")) }, 200)
                setTimeout(function(){ cards.innerHTML = cardcolor(newest.slice(0, 5).join("")) }, 250)
                won = payout()
                if(won > 0){
                    credits += won
                    win.textContent = result
                }
                cred.textContent = credits
                drawdeal.textContent = "DEAL"
            }
        }

        function cardcolor(text){
            return Array.from(text).map((x, a) => `<div id="${a}" class="acard" onclick="dokeep(this.id)" style="color:${"ğŸ‚²ğŸ‚³ğŸ‚´ğŸ‚µğŸ‚¶ğŸ‚·ğŸ‚¸ğŸ‚¹ğŸ‚ºğŸ‚»ğŸ‚½ğŸ‚¾ğŸ‚±ğŸƒ‚ğŸƒƒğŸƒ„ğŸƒ…ğŸƒ†ğŸƒ‡ğŸƒˆğŸƒ‰ğŸƒŠğŸƒ‹ğŸƒğŸƒğŸƒ".includes(x) ? "#f57738" : "black"}" >${x}</div>`).join("")
        }

        function dokeep(num){
            if(drawdeal.textContent == "DRAW"){
                if(keep.includes(num)){
                    keep = keep.replace(num, "")
                    document.getElementById(num).style.backgroundColor = "white"
                }
                else{
                    keep += (num)
                    document.getElementById(num).style.backgroundColor = "yellow"
                }
            }
        }



        function payout(){
            result = ""
            corder = "WAKQJT98765432"
            straights = ["A5432", "65432", "76543", "87654", "98765", "T9876", "JT987", "QJT98", "KQJT9", "AKQJT"]
            royalflush = "AKQJT"

            newcardscards = newest.map(x => cardname[x][0]).sort(function(a,b){return corder.indexOf(a) - corder.indexOf(b)}).join("")
            



            groups = newcardscards.match(/(.)\1*/g);

            wildnum = ""
            if(game == "SW") wildnum = "7"
            else if(game.endsWith("DW") || game == "DaJ") wildnum = "2"

            counts = groups.map(group => [(group[0] != "W" && group[0] != wildnum) ? group.length: 0, group[0]]).sort((a, b) => b[0] - a[0]);
            wilds = 0
            if(game == "OEJ"){
                if(newestcards.includes("ğŸ‚«")) wilds++
                if(newsercards.includes("ğŸ‚»")) wilds++
            }
            else wilds = newcardscards.replace(new RegExp(wildnum, "g"), "W").split("W").length - 1
            if(wilds > 0) counts = counts.map(x => [x[0] + wilds, x[1]])

            flush = (Array.from(new Set(newest.map(x => cardname[x][1]))).join("").replace(/W/, "").length == 1)

            wildroyalflush = false
            if(flush){
                wildroyalflushpoints = wilds
                for(char of royalflush){
                    if(newcardscards.includes(char)) wildroyalflushpoints++
                }
                if(wildroyalflushpoint == 5) wildroyalflush = true
            }

            straight = false
            for(str of straights){
                straightpoints = wilds
                for(char of str){
                    if(newcardscards.includes(char)) straightpoints++
                }
                if(straightpoints == 5) straight = true
            }

            console.log(counts)
            // Classify based on counts
            if(newcardscards == "AAAAA") result = "Five Aces"
            else if(wilds >= 5) result = "Five Wilds"
            else if(flush && newcardscards == "AKQJT") result = "Royal Flush"
            else if(wilds >= 4 && game == "SW") result = "Four Sevens"
            else if(newcardscards.split("2") == 5 && (game.endsWith("DW") || game == "DaJ")){
                if(counts[0][1] == "A" && game != "DaJ") result = "Four Deuces with an Ace"
                else result = "Four Deuces"
            }
            else if(straight && flush) result = "Straight Flush"
            else if(wildroyalflush) result = "Wild Royal Flush" //fix / del
            else if(counts[0][0] >= 5){
                if(game.endsWith("BDW")){
                    if(counts[0][1] == "A") result = "Five Aces"
                    else if("345".includes(counts[0][1])) result = "Five 3,4,5"
                    else result = "Five 6-K"
                }
                else if(game == "SBDW"){
                    if(wilds == 1) result = "Five of a Kind with One Deuce"
                    else result = "Five of a Kind"
                }
                else result = "Five of a Kind"
            }
            else if (counts[0][0] >= 4 || wilds >= 4){
                if(game.includes("DB") || game == "WHA" || game.startsWith("TB") || game == "BP"){
                    if(counts[0][1] == "A"){
                        if(game.includes("DDB") && "234".includes(counts[1][1])) result = "Four Aces with any 2,3,4"
                        else result = "Four Aces"
                    }
                    else if("234".includes(counts[0][1])){
                        if(game.includes("DDB") && "A234".includes(counts[1][1])) result = "Four 2,3,4 with any A,2,3,4"
                        else result = "Four 2,3,4"
                    }
                    else{
                        if(game == "DDBP" && counts[1][1] == "A") result = "Four 5-K with an Ace"
                        else result = "Four 5-K"
                    }
                }
                else if(game == "NB") result = counts[0][1] == "A" ? "Four Aces" : "Four 2-K"
                else if(game.startsWith("AaF")){
                    if(counts[0][1] == "A"){
                        if("JQK".includes(counts[1][1]) && game == "DDAaF"){
                            result = "Four Aces with any J,Q,K,A"
                        }
                        else result = "Four Aces"
                    }
                    else if("JQK".includes(counts[0][1]) && game == "DDAaF"){
                        if("AJQK".includes(counts[1][1]) && game == "DDAaF"){
                            result = "Four J,Q,K with any J,Q,K,A"
                        }
                        else result = "Four J,Q,K"
                    }
                    else{
                        result = "Four 2-10"
                    }
                }
                else if(game == "SDB"){
                    if(counts[0][1] == "A") result = "Four Aces"
                    else if("KQJ".includes(counts[0][1])) result = "Four J,Q,K"
                    else if("234".includes(counts[0][1])) result = "Four 2,3,4"
                    else result = "Four 5-10"
                }
                else if(game == "SDDB"){
                    if(counts[0][1] == "A"){
                        if("234".includes(counts[1][1])) result = "Four Aces with 2,3,4"
                        else if("JQK".includes(counts[1][1])) result = "Four Aces with J,Q,K"
                        else result = "Four Aces"
                    }
                    else if("234".includes(counts[0][1])){
                        if("A234".includes(count[1][1])){
                           result = "Four 2,3,4 with any A,2,3,4"
                        }
                        else result = "Four 2,3,4"
                    }
                    else if("JQK".includes(counts[0][1]) && "JQKA".includes(counts[1][1])){
                        result = "Four J,Q,K with any J,Q,K,A"
                    }
                    else{
                        result = "Four 5-K"
                    }
                }
                else if(game == "AaDB"){
                    if(counts[0][1] == "A" && counts[1][1] == "2") result = "Four Aces with a Deuce"
                    else if(counts[0][1] == "2" && counts[1][1] == "A") result = "Four Deuces with an Ace"
                    else if("2A".includes(counts[0][1])) result = "Four Aces or Deuces"
                    else if("2A".includes(counts[1][1])) result = "Four 3-K with an Ace or Deuce"
                    else result = "Four 3-K"
                }
                else if(game == "AD"){
                    if("2A".includes(counts[0][1])) result = "Four Aces or Deuces"
                    else result = "Four 3-K"
                }
                else if(game == "BJB"){
                    if(newestcards.includes("") || newestcards.includes("")){
                        if(counts[0][1] == "A") result = "Four Aces with a Black Jack"
                        else if("234".includes(counts[0][1])) result = "Four 2,3,4 with a Black Jack"
                        else result = "Four 5-K with a Black Jack"
                    }
                    else if("AJ".includes(counts[0][1])) result = "Four Aces or Jacks"
                    else if("234".includes(counts[1][1])) result = "Four 2,3,4"
                    else result = "Four 5-K"
                }
                else if(game == "AaE"){
                    if("2A".includes(counts[0][1])) result = "Four Aces or Eights"
                    else if(wilds >= 4) result = "Four Sevens"
                    else result = "Four of a Kind"
                }
                else if(game == "DBDW"){
                    if("2A".includes(counts[0][1])) result = "Four Aces or Eights"
                    else result = "Four of a Kind"
                }
                else if(game == "DAD"){
                    if(counts[0][1] == "A" && "234".includes(counts[1][1])) result = "Four Aces with any 2,3,4"
                    else if(counts[0][1] == "2" && "A234".includes(counts[1][1])) result = "Four Deuces with an Ace"
                    else if("A".includes(counts[0][1])) result = "Four Aces"
                    else if("234".includes(counts[1][1])) result = "Four 2,3,4"
                    else result = "Four 5-K"
                }
                else result = 'Four of a Kind'
            }
            else if (+counts[0][0] + +counts[1][0] - wilds >= 5) result = 'Full House'
            else if(flush) result = "Flush"
            else if(straight) result = "Straight"
            else if (counts[0][0] >= 3){
                if(game == "NB" && counts[1][1 == "A"]) result = "Three Aces"
                else result = 'Three of a Kind'
            }
            else if (+counts[0][0] + +counts[1][0] - wilds >= 4 && !["SW", "DBDW", "SBDW", "BDW", "DaJ", "OEJ"].includes(game)) result = 'Two Pair'
            else if(!["ToB", "RAB", "FADB", "FADDB", "JPK", "JPA", "JPTP", "DJP"].includes(game) && counts[0][0] === 2 && "AKQJ".includes(counts[0][1])) result = 'Jacks or Better'
            else if(game == "ToB" && counts[0][0] === 2 && "AKQJT".includes(counts[0][1])) result = 'Tens or Better'
            else if(game == "JPK" && counts[0][0] === 2 && "AK".includes(counts[0][1])) result = 'Kings or Better'
            else if(["RAB", "FADB", "FADDB", "JPA"].includes(game) && counts[0][0] === 2 && "A" == counts[0][1]) result = 'Pair of Aces'
            else result = "Nothing"

            return bigOBJ[game][result]
        }

        //dealcards()

    </script>
</html>